{"ast":null,"code":"var _jsxFileName = \"E:\\\\OneDrive - University of Salford\\\\Desktop\\\\pizza-website\\\\client\\\\src\\\\components\\\\CartOpen.js\",\n    _s2 = $RefreshSig$();\n\nimport iconEmptyBasket from \"../images/iconEmptyBasket.svg\";\nimport { useState, useEffect } from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CartOpen(props) {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  const today = new Date();\n  const time = today.getHours() + ':' + today.getMinutes();\n\n  const DeliveryHours = () => {\n    if (time > '22:29' && time < '8:59') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-5 text-secondary\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Momentan nu putem prelua comenzi. Va rugam reveniti zilnic in intervalul 09:00 - 22:30. Va multumim !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 11\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.setPopUpCheckout,\n          className: \"black-bg text-white border border-2 border-dark rounded p-2\",\n          children: \"Comanda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this);\n    }\n  }; // state to make functionality of buttons to increment or decrease the numberOfProduct\n  // const [clicks, setClicks] = useState(1);\n  // AICI AM RAMAS ICNERCARND SA FAC LA CART GEN SA SE UPDATEZE SI FRONT-ENDUL DUPA CE DAU UPDATE LA MONGODB\n\n\n  async function IncrementItem(newClicks, id) {\n    const updated = await Axios.put('http://localhost:3001/update', {\n      id: id,\n      newNumberOfProduct: newClicks + 1\n    });\n\n    if (updated) {\n      Axios.get('http://localhost:3001/read').then(response => {\n        props.setProductsList(props.productsList);\n      });\n    }\n  }\n\n  useEffect(() => {\n    Axios.get('http://localhost:3001/read').then(response => {\n      props.setProductsList(response.data);\n    });\n  }, []);\n\n  const CartOpenLogic = props => {\n    _s();\n\n    const [numberOfProduct, setNumberOfProduct] = useState(props.val.numberOfProduct);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row container-fluid \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col d-inline-flex ps-0 justify-content-center pt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [numberOfProduct, \" X \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ps-2 pe-2\",\n          children: props.val.Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => IncrementItem(props.val.numberOfProduct, props.val._id),\n            className: \"border-1 border-dark bg-light rounded-end\",\n            style: {\n              width: \"30px\"\n            },\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ps-2 pe-2\",\n          children: props.val.Price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, props.key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }; // function DecreaseItem(id) {\n  //     if (clicks < 1) {\n  //       Axios.delete(`http://localhost:3001/delete/${id}`)\n  //     };\n  //     setClicks(currClicks => currClicks - 1)\n  // }\n\n\n  _s(CartOpenLogic, \"U+VKAUOir8RdsOsiV1rmIUwoPHY=\");\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container-fluid position-absolute h-100 w-100 overflow-hidden bg-white text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-secondary border-bottom border-2 border-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-fluid mt-5\",\n          src: iconEmptyBasket,\n          style: {\n            width: \"70px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-5\",\n          children: \"Adauga mancare gustoasa din meniu si apoi plaseaza comanda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), props.productsList.map((val, key) => {\n        return /*#__PURE__*/_jsxDEV(CartOpenLogic, {\n          val: val\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-5 border-bottom border-2 border-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2\",\n          children: \"Sub-total: 10lei\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"fw-bold\",\n          children: \"Total: 20lei\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DeliveryHours, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s2(CartOpen, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = CartOpen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartOpen\");","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/client/src/components/CartOpen.js"],"names":["useState","useEffect","Axios","CartOpen","props","today","Date","time","getHours","getMinutes","DeliveryHours","setPopUpCheckout","IncrementItem","newClicks","id","updated","put","newNumberOfProduct","get","then","response","setProductsList","productsList","data","CartOpenLogic","numberOfProduct","setNumberOfProduct","val","Name","_id","width","Price","key","iconEmptyBasket","map"],"mappings":"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","sourcesContent":["import iconEmptyBasket from '../images/iconEmptyBasket.svg';\r\nimport {useState, useEffect} from 'react';\r\nimport Axios from 'axios';\r\n\r\nexport default function CartOpen(props) {\r\n    const today = new Date();\r\n    const time = today.getHours() + ':' + today.getMinutes();\r\n  \r\n    const DeliveryHours = () => {\r\n      if (time > '22:29' && time < '8:59') {\r\n        return(\r\n          <div className=\"mb-5 text-secondary\">\r\n            <h5>Momentan nu putem prelua comenzi. Va rugam reveniti zilnic in intervalul 09:00 - 22:30. Va multumim !</h5>\r\n          </div>\r\n        );\r\n      }\r\n      else {\r\n        return(\r\n          <div className=\"container\">\r\n            <button onClick={props.setPopUpCheckout} className=\"black-bg text-white border border-2 border-dark rounded p-2\">Comanda</button>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    // state to make functionality of buttons to increment or decrease the numberOfProduct\r\n    // const [clicks, setClicks] = useState(1);\r\n    // AICI AM RAMAS ICNERCARND SA FAC LA CART GEN SA SE UPDATEZE SI FRONT-ENDUL DUPA CE DAU UPDATE LA MONGODB\r\n    async function IncrementItem(newClicks, id) {\r\n        const updated = await Axios.put('http://localhost:3001/update', {id: id, newNumberOfProduct: newClicks + 1});\r\n        if (updated) {\r\n          Axios.get('http://localhost:3001/read').then((response) => {\r\n            props.setProductsList(props.productsList);\r\n          });\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n      Axios.get('http://localhost:3001/read').then((response) => {\r\n          props.setProductsList(response.data);\r\n      });\r\n  }, []);\r\n\r\n  const CartOpenLogic = (props) => {\r\n    const [numberOfProduct, setNumberOfProduct] = useState(props.val.numberOfProduct);\r\n    return(\r\n      <div key={props.key} className=\"row container-fluid \">\r\n        <div className=\"col d-inline-flex ps-0 justify-content-center pt-3\">\r\n          <p>{numberOfProduct} X </p>\r\n          <p className=\"ps-2 pe-2\">{props.val.Name}</p>\r\n          {/* <div className=\"\"><button onClick={() => DecreaseItem(val._id)} className=\"border-1 border-dark bg-light rounded-start\" style={{width: \"30px\"}}>-</button></div> */}\r\n          <div><button onClick={() => IncrementItem(props.val.numberOfProduct, props.val._id)} className=\"border-1 border-dark bg-light rounded-end\" style={{width: \"30px\"}}>+</button></div>\r\n          <p className=\"ps-2 pe-2\">{props.val.Price}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n    // function DecreaseItem(id) {\r\n    //     if (clicks < 1) {\r\n    //       Axios.delete(`http://localhost:3001/delete/${id}`)\r\n    //     };\r\n    //     setClicks(currClicks => currClicks - 1)\r\n    // }\r\n  \r\n    return(\r\n      <>\r\n      <section className=\"container-fluid position-absolute h-100 w-100 overflow-hidden bg-white text-center\">\r\n        {/* The below div is only when cart is empty, when not empty, show what I will code with buttons and meal */}\r\n        <div className=\"text-secondary border-bottom border-2 border-secondary\">\r\n          <img className=\"img-fluid mt-5\" src={iconEmptyBasket} style={{width: \"70px\"}} />\r\n          <h5 className=\"mb-5\">Adauga mancare gustoasa din meniu si apoi plaseaza comanda</h5>\r\n        </div>\r\n\r\n        {/* Aici vine productsList NOTE!!!\r\n         change key to id see if it is ok\r\n          I only want to display it for now, after that i have to change to make it find the product if it is already and add to its number\r\n        */}\r\n        {/* {productsList.map((val, key) => {\r\n                return (\r\n                <div key={key}>\r\n                    <h1>{val.Name} for {val.Price}</h1>\r\n                    <input onChange={(event) => setNewName(event.target.value)} type=\"text\" placeholder='New product name'/>\r\n                    <button onClick={() => updateProduct(val._id)}>Update</button>\r\n                    <button onClick={() => deleteProduct(val._id)}>Delete</button>\r\n                </div> \r\n                );\r\n            })} */}\r\n        {props.productsList.map((val, key) => {\r\n          return (\r\n            <CartOpenLogic val={val} key={key} />\r\n          );\r\n        })}\r\n  \r\n        <div className=\"mb-5 border-bottom border-2 border-secondary\">\r\n          <p className=\"mt-2\">Sub-total: 10lei</p>\r\n          <p className=\"fw-bold\">Total: 20lei</p>\r\n        </div>\r\n        <DeliveryHours />\r\n      </section>\r\n      </>\r\n    )\r\n  }"]},"metadata":{},"sourceType":"module"}