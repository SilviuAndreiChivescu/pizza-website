{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n} // Body focus trap see Issue #742\n\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n/* eslint-disable no-console */\n\n/* istanbul ignore next */\n\nfunction resetState() {\n  var _arr = [before, after];\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var item = _arr[_i];\n    if (!item) continue;\n    item.parentNode && item.parentNode.removeChild(item);\n  }\n\n  before = after = null;\n  instances = [];\n}\n/* istanbul ignore next */\n\n\nfunction log() {\n  console.log(\"bodyTrap ----------\");\n  console.log(instances.length);\n  var _arr2 = [before, after];\n\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var item = _arr2[_i2];\n    var check = item || {};\n    console.log(check.nodeName, check.className, check.id);\n  }\n\n  console.log(\"edn bodyTrap ----------\");\n}\n/* eslint-enable no-console */\n\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n\n    return;\n  }\n\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before && !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/node_modules/react-modal/lib/helpers/bodyTrap.js"],"names":["Object","defineProperty","exports","value","resetState","log","_portalOpenInstances","require","_portalOpenInstances2","_interopRequireDefault","obj","__esModule","default","before","after","instances","_arr","_i","length","item","parentNode","removeChild","console","_arr2","_i2","check","nodeName","className","id","focusContent","process","env","NODE_ENV","warn","bodyTrap","eventType","openInstances","document","createElement","setAttribute","style","position","opacity","addEventListener","cloneNode","body","firstChild","insertBefore","lastChild","appendChild","parentElement","subscribe"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\n\nvar _portalOpenInstances = require(\"./portalOpenInstances\");\n\nvar _portalOpenInstances2 = _interopRequireDefault(_portalOpenInstances);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// Body focus trap see Issue #742\n\nvar before = void 0,\n    after = void 0,\n    instances = [];\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  var _arr = [before, after];\n\n  for (var _i = 0; _i < _arr.length; _i++) {\n    var item = _arr[_i];\n    if (!item) continue;\n    item.parentNode && item.parentNode.removeChild(item);\n  }\n  before = after = null;\n  instances = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  console.log(\"bodyTrap ----------\");\n  console.log(instances.length);\n  var _arr2 = [before, after];\n  for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n    var item = _arr2[_i2];\n    var check = item || {};\n    console.log(check.nodeName, check.className, check.id);\n  }\n  console.log(\"edn bodyTrap ----------\");\n}\n/* eslint-enable no-console */\n\nfunction focusContent() {\n  if (instances.length === 0) {\n    if (process.env.NODE_ENV !== \"production\") {\n      // eslint-disable-next-line no-console\n      console.warn(\"React-Modal: Open instances > 0 expected\");\n    }\n    return;\n  }\n  instances[instances.length - 1].focusContent();\n}\n\nfunction bodyTrap(eventType, openInstances) {\n  if (!before && !after) {\n    before = document.createElement(\"div\");\n    before.setAttribute(\"data-react-modal-body-trap\", \"\");\n    before.style.position = \"absolute\";\n    before.style.opacity = \"0\";\n    before.setAttribute(\"tabindex\", \"0\");\n    before.addEventListener(\"focus\", focusContent);\n    after = before.cloneNode();\n    after.addEventListener(\"focus\", focusContent);\n  }\n\n  instances = openInstances;\n\n  if (instances.length > 0) {\n    // Add focus trap\n    if (document.body.firstChild !== before) {\n      document.body.insertBefore(before, document.body.firstChild);\n    }\n    if (document.body.lastChild !== after) {\n      document.body.appendChild(after);\n    }\n  } else {\n    // Remove focus trap\n    if (before.parentElement) {\n      before.parentElement.removeChild(before);\n    }\n    if (after.parentElement) {\n      after.parentElement.removeChild(after);\n    }\n  }\n}\n\n_portalOpenInstances2.default.subscribe(bodyTrap);"]},"metadata":{},"sourceType":"script"}