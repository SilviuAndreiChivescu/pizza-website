{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport reactToString from '../utils/reactToString';\nimport { hasClass } from 'dom-lib';\nimport { TREE_NODE_PADDING, TREE_NODE_ROOT_PADDING } from '../constants';\nimport { defaultProps, prefix, refType } from '../utils';\n\nvar TreeNode = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(TreeNode, _React$Component);\n\n  function TreeNode() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.handleTreeToggle = function (event) {\n      var _event$nativeEvent, _event$nativeEvent$st;\n\n      var _this$props = _this.props,\n          onTreeToggle = _this$props.onTreeToggle,\n          nodeData = _this$props.nodeData; // 异步加载数据自定义loading图标时，阻止原生冒泡，不触发 document.click\n\n      event === null || event === void 0 ? void 0 : (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 ? void 0 : (_event$nativeEvent$st = _event$nativeEvent.stopImmediatePropagation) === null || _event$nativeEvent$st === void 0 ? void 0 : _event$nativeEvent$st.call(_event$nativeEvent);\n      onTreeToggle === null || onTreeToggle === void 0 ? void 0 : onTreeToggle(nodeData);\n    };\n\n    _this.handleSelect = function (event) {\n      var _this$props2 = _this.props,\n          onSelect = _this$props2.onSelect,\n          disabled = _this$props2.disabled,\n          nodeData = _this$props2.nodeData;\n\n      if (disabled) {\n        return;\n      }\n\n      if (event.target instanceof HTMLElement) {\n        if (hasClass(event.target.parentNode, _this.addPrefix('expand-icon-wrapper'))) {\n          return;\n        }\n      }\n\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(nodeData, event);\n    };\n\n    _this.handleDragStart = function (event) {\n      var _this$props3 = _this.props,\n          nodeData = _this$props3.nodeData,\n          onDragStart = _this$props3.onDragStart;\n      var dragNode = document.getElementById('drag-node');\n\n      if (dragNode) {\n        event.dataTransfer.setDragImage(dragNode, 0, 0);\n      }\n\n      onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart(nodeData, event);\n    };\n\n    _this.handleDragEnter = function (event) {\n      var _this$props4 = _this.props,\n          nodeData = _this$props4.nodeData,\n          onDragEnter = _this$props4.onDragEnter;\n      event.preventDefault();\n      event.stopPropagation();\n      onDragEnter === null || onDragEnter === void 0 ? void 0 : onDragEnter(nodeData, event);\n    };\n\n    _this.handleDragOver = function (event) {\n      var _this$props5 = _this.props,\n          nodeData = _this$props5.nodeData,\n          onDragOver = _this$props5.onDragOver;\n      event.preventDefault();\n      event.stopPropagation();\n      onDragOver === null || onDragOver === void 0 ? void 0 : onDragOver(nodeData, event);\n    };\n\n    _this.handleDragLeave = function (event) {\n      var _this$props6 = _this.props,\n          nodeData = _this$props6.nodeData,\n          onDragLeave = _this$props6.onDragLeave;\n      event.stopPropagation();\n      onDragLeave === null || onDragLeave === void 0 ? void 0 : onDragLeave(nodeData, event);\n    };\n\n    _this.handleDragEnd = function (event) {\n      var _this$props7 = _this.props,\n          nodeData = _this$props7.nodeData,\n          onDragEnd = _this$props7.onDragEnd;\n      event.stopPropagation();\n      onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd(nodeData, event);\n    };\n\n    _this.handleDrop = function (event) {\n      var _this$props8 = _this.props,\n          nodeData = _this$props8.nodeData,\n          onDrop = _this$props8.onDrop;\n      event.preventDefault();\n      event.stopPropagation();\n      onDrop === null || onDrop === void 0 ? void 0 : onDrop(nodeData, event);\n    };\n\n    _this.renderIcon = function () {\n      var _classNames;\n\n      var _this$props9 = _this.props,\n          expand = _this$props9.expand,\n          onRenderTreeIcon = _this$props9.onRenderTreeIcon,\n          hasChildren = _this$props9.hasChildren,\n          nodeData = _this$props9.nodeData;\n      var classes = classNames(_this.addPrefix('expand-icon'), (_classNames = {}, _classNames[_this.addPrefix('expanded')] = !!expand, _classNames));\n      var expandIcon = React.createElement(\"i\", {\n        className: classes\n      });\n\n      if (nodeData !== undefined && typeof onRenderTreeIcon === 'function') {\n        var customIcon = onRenderTreeIcon(nodeData);\n        expandIcon = customIcon !== null ? React.createElement(\"div\", {\n          className: _this.addPrefix('custom-icon')\n        }, customIcon) : expandIcon;\n      }\n\n      return hasChildren ? React.createElement(\"div\", {\n        role: \"button\",\n        tabIndex: -1,\n        \"data-ref\": nodeData.refKey,\n        className: _this.addPrefix('expand-icon-wrapper'),\n        onClick: _this.handleTreeToggle\n      }, expandIcon) : null;\n    };\n\n    _this.renderLabel = function () {\n      var _classNames2;\n\n      var _this$props10 = _this.props,\n          nodeData = _this$props10.nodeData,\n          onRenderTreeNode = _this$props10.onRenderTreeNode,\n          label = _this$props10.label,\n          layer = _this$props10.layer,\n          dragging = _this$props10.dragging,\n          dragOver = _this$props10.dragOver,\n          dragOverTop = _this$props10.dragOverTop,\n          dragOverBottom = _this$props10.dragOverBottom;\n      var contentClasses = classNames(_this.addPrefix('label-content'), (_classNames2 = {}, _classNames2[_this.addPrefix('dragging')] = dragging, _classNames2[_this.addPrefix('drag-over')] = dragOver, _classNames2[_this.addPrefix('drag-over-top')] = dragOverTop, _classNames2[_this.addPrefix('drag-over-bottom')] = dragOverBottom, _classNames2));\n      return React.createElement(\"span\", {\n        className: _this.addPrefix('label'),\n        title: _this.getTitle(),\n        \"data-layer\": layer,\n        \"data-key\": (nodeData === null || nodeData === void 0 ? void 0 : nodeData.refKey) || '',\n        role: \"button\",\n        tabIndex: -1,\n        onClick: _this.handleSelect\n      }, React.createElement(\"span\", {\n        className: contentClasses\n      }, onRenderTreeNode ? onRenderTreeNode(nodeData) : label));\n    };\n\n    return _this;\n  }\n\n  var _proto = TreeNode.prototype;\n\n  _proto.getTitle = function getTitle() {\n    var label = this.props.label;\n\n    if (typeof label === 'string') {\n      return label;\n    } else if (React.isValidElement(label)) {\n      var nodes = reactToString(label);\n      return nodes.join('');\n    }\n  };\n\n  _proto.render = function render() {\n    var _classNames3, _extends2;\n\n    var _this$props11 = this.props,\n        rtl = _this$props11.rtl,\n        style = _this$props11.style,\n        className = _this$props11.className,\n        classPrefix = _this$props11.classPrefix,\n        active = _this$props11.active,\n        layer = _this$props11.layer,\n        disabled = _this$props11.disabled,\n        visible = _this$props11.visible,\n        innerRef = _this$props11.innerRef,\n        draggable = _this$props11.draggable;\n    var classes = classNames(className, classPrefix, (_classNames3 = {\n      'text-muted': disabled\n    }, _classNames3[this.addPrefix('disabled')] = disabled, _classNames3[this.addPrefix('active')] = active, _classNames3));\n    var padding = layer * TREE_NODE_PADDING + TREE_NODE_ROOT_PADDING;\n\n    var styles = _extends({}, style, (_extends2 = {}, _extends2[rtl ? 'paddingRight' : 'paddingLeft'] = padding, _extends2));\n\n    return visible ? React.createElement(\"div\", {\n      style: styles,\n      className: classes,\n      ref: innerRef,\n      draggable: draggable,\n      onDragStart: this.handleDragStart,\n      onDragEnter: this.handleDragEnter,\n      onDragOver: this.handleDragOver,\n      onDragLeave: this.handleDragLeave,\n      onDragEnd: this.handleDragEnd,\n      onDrop: this.handleDrop\n    }, this.renderIcon(), this.renderLabel()) : null;\n  };\n\n  return TreeNode;\n}(React.Component);\n\nTreeNode.propTypes = {\n  layer: PropTypes.number,\n  value: PropTypes.any,\n  label: PropTypes.any,\n  expand: PropTypes.bool,\n  active: PropTypes.bool,\n  visible: PropTypes.bool,\n  nodeData: PropTypes.any,\n  disabled: PropTypes.bool,\n  draggable: PropTypes.bool,\n  dragOver: PropTypes.bool,\n  hasChildren: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  style: PropTypes.object,\n  innerRef: refType,\n  onTreeToggle: PropTypes.func,\n  onSelect: PropTypes.func,\n  onRenderTreeIcon: PropTypes.func,\n  onRenderTreeNode: PropTypes.func,\n  onDragStart: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDrop: PropTypes.func\n};\nTreeNode.defaultProps = {\n  visible: true\n};\nexport default defaultProps({\n  classPrefix: 'tree-node'\n})(TreeNode);","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/node_modules/rsuite/es/TreePicker/TreeNode.js"],"names":["_extends","_inheritsLoose","React","PropTypes","classNames","reactToString","hasClass","TREE_NODE_PADDING","TREE_NODE_ROOT_PADDING","defaultProps","prefix","refType","TreeNode","_React$Component","_this","_len","arguments","length","args","Array","_key","call","apply","concat","addPrefix","name","props","classPrefix","handleTreeToggle","event","_event$nativeEvent","_event$nativeEvent$st","_this$props","onTreeToggle","nodeData","nativeEvent","stopImmediatePropagation","handleSelect","_this$props2","onSelect","disabled","target","HTMLElement","parentNode","handleDragStart","_this$props3","onDragStart","dragNode","document","getElementById","dataTransfer","setDragImage","handleDragEnter","_this$props4","onDragEnter","preventDefault","stopPropagation","handleDragOver","_this$props5","onDragOver","handleDragLeave","_this$props6","onDragLeave","handleDragEnd","_this$props7","onDragEnd","handleDrop","_this$props8","onDrop","renderIcon","_classNames","_this$props9","expand","onRenderTreeIcon","hasChildren","classes","expandIcon","createElement","className","undefined","customIcon","role","tabIndex","refKey","onClick","renderLabel","_classNames2","_this$props10","onRenderTreeNode","label","layer","dragging","dragOver","dragOverTop","dragOverBottom","contentClasses","title","getTitle","_proto","prototype","isValidElement","nodes","join","render","_classNames3","_extends2","_this$props11","rtl","style","active","visible","innerRef","draggable","padding","styles","ref","Component","propTypes","number","value","any","bool","string","object","func"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport reactToString from '../utils/reactToString';\nimport { hasClass } from 'dom-lib';\nimport { TREE_NODE_PADDING, TREE_NODE_ROOT_PADDING } from '../constants';\nimport { defaultProps, prefix, refType } from '../utils';\n\nvar TreeNode =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(TreeNode, _React$Component);\n\n  function TreeNode() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.handleTreeToggle = function (event) {\n      var _event$nativeEvent, _event$nativeEvent$st;\n\n      var _this$props = _this.props,\n          onTreeToggle = _this$props.onTreeToggle,\n          nodeData = _this$props.nodeData; // 异步加载数据自定义loading图标时，阻止原生冒泡，不触发 document.click\n\n      event === null || event === void 0 ? void 0 : (_event$nativeEvent = event.nativeEvent) === null || _event$nativeEvent === void 0 ? void 0 : (_event$nativeEvent$st = _event$nativeEvent.stopImmediatePropagation) === null || _event$nativeEvent$st === void 0 ? void 0 : _event$nativeEvent$st.call(_event$nativeEvent);\n      onTreeToggle === null || onTreeToggle === void 0 ? void 0 : onTreeToggle(nodeData);\n    };\n\n    _this.handleSelect = function (event) {\n      var _this$props2 = _this.props,\n          onSelect = _this$props2.onSelect,\n          disabled = _this$props2.disabled,\n          nodeData = _this$props2.nodeData;\n\n      if (disabled) {\n        return;\n      }\n\n      if (event.target instanceof HTMLElement) {\n        if (hasClass(event.target.parentNode, _this.addPrefix('expand-icon-wrapper'))) {\n          return;\n        }\n      }\n\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(nodeData, event);\n    };\n\n    _this.handleDragStart = function (event) {\n      var _this$props3 = _this.props,\n          nodeData = _this$props3.nodeData,\n          onDragStart = _this$props3.onDragStart;\n      var dragNode = document.getElementById('drag-node');\n\n      if (dragNode) {\n        event.dataTransfer.setDragImage(dragNode, 0, 0);\n      }\n\n      onDragStart === null || onDragStart === void 0 ? void 0 : onDragStart(nodeData, event);\n    };\n\n    _this.handleDragEnter = function (event) {\n      var _this$props4 = _this.props,\n          nodeData = _this$props4.nodeData,\n          onDragEnter = _this$props4.onDragEnter;\n      event.preventDefault();\n      event.stopPropagation();\n      onDragEnter === null || onDragEnter === void 0 ? void 0 : onDragEnter(nodeData, event);\n    };\n\n    _this.handleDragOver = function (event) {\n      var _this$props5 = _this.props,\n          nodeData = _this$props5.nodeData,\n          onDragOver = _this$props5.onDragOver;\n      event.preventDefault();\n      event.stopPropagation();\n      onDragOver === null || onDragOver === void 0 ? void 0 : onDragOver(nodeData, event);\n    };\n\n    _this.handleDragLeave = function (event) {\n      var _this$props6 = _this.props,\n          nodeData = _this$props6.nodeData,\n          onDragLeave = _this$props6.onDragLeave;\n      event.stopPropagation();\n      onDragLeave === null || onDragLeave === void 0 ? void 0 : onDragLeave(nodeData, event);\n    };\n\n    _this.handleDragEnd = function (event) {\n      var _this$props7 = _this.props,\n          nodeData = _this$props7.nodeData,\n          onDragEnd = _this$props7.onDragEnd;\n      event.stopPropagation();\n      onDragEnd === null || onDragEnd === void 0 ? void 0 : onDragEnd(nodeData, event);\n    };\n\n    _this.handleDrop = function (event) {\n      var _this$props8 = _this.props,\n          nodeData = _this$props8.nodeData,\n          onDrop = _this$props8.onDrop;\n      event.preventDefault();\n      event.stopPropagation();\n      onDrop === null || onDrop === void 0 ? void 0 : onDrop(nodeData, event);\n    };\n\n    _this.renderIcon = function () {\n      var _classNames;\n\n      var _this$props9 = _this.props,\n          expand = _this$props9.expand,\n          onRenderTreeIcon = _this$props9.onRenderTreeIcon,\n          hasChildren = _this$props9.hasChildren,\n          nodeData = _this$props9.nodeData;\n      var classes = classNames(_this.addPrefix('expand-icon'), (_classNames = {}, _classNames[_this.addPrefix('expanded')] = !!expand, _classNames));\n      var expandIcon = React.createElement(\"i\", {\n        className: classes\n      });\n\n      if (nodeData !== undefined && typeof onRenderTreeIcon === 'function') {\n        var customIcon = onRenderTreeIcon(nodeData);\n        expandIcon = customIcon !== null ? React.createElement(\"div\", {\n          className: _this.addPrefix('custom-icon')\n        }, customIcon) : expandIcon;\n      }\n\n      return hasChildren ? React.createElement(\"div\", {\n        role: \"button\",\n        tabIndex: -1,\n        \"data-ref\": nodeData.refKey,\n        className: _this.addPrefix('expand-icon-wrapper'),\n        onClick: _this.handleTreeToggle\n      }, expandIcon) : null;\n    };\n\n    _this.renderLabel = function () {\n      var _classNames2;\n\n      var _this$props10 = _this.props,\n          nodeData = _this$props10.nodeData,\n          onRenderTreeNode = _this$props10.onRenderTreeNode,\n          label = _this$props10.label,\n          layer = _this$props10.layer,\n          dragging = _this$props10.dragging,\n          dragOver = _this$props10.dragOver,\n          dragOverTop = _this$props10.dragOverTop,\n          dragOverBottom = _this$props10.dragOverBottom;\n      var contentClasses = classNames(_this.addPrefix('label-content'), (_classNames2 = {}, _classNames2[_this.addPrefix('dragging')] = dragging, _classNames2[_this.addPrefix('drag-over')] = dragOver, _classNames2[_this.addPrefix('drag-over-top')] = dragOverTop, _classNames2[_this.addPrefix('drag-over-bottom')] = dragOverBottom, _classNames2));\n      return React.createElement(\"span\", {\n        className: _this.addPrefix('label'),\n        title: _this.getTitle(),\n        \"data-layer\": layer,\n        \"data-key\": (nodeData === null || nodeData === void 0 ? void 0 : nodeData.refKey) || '',\n        role: \"button\",\n        tabIndex: -1,\n        onClick: _this.handleSelect\n      }, React.createElement(\"span\", {\n        className: contentClasses\n      }, onRenderTreeNode ? onRenderTreeNode(nodeData) : label));\n    };\n\n    return _this;\n  }\n\n  var _proto = TreeNode.prototype;\n\n  _proto.getTitle = function getTitle() {\n    var label = this.props.label;\n\n    if (typeof label === 'string') {\n      return label;\n    } else if (React.isValidElement(label)) {\n      var nodes = reactToString(label);\n      return nodes.join('');\n    }\n  };\n\n  _proto.render = function render() {\n    var _classNames3, _extends2;\n\n    var _this$props11 = this.props,\n        rtl = _this$props11.rtl,\n        style = _this$props11.style,\n        className = _this$props11.className,\n        classPrefix = _this$props11.classPrefix,\n        active = _this$props11.active,\n        layer = _this$props11.layer,\n        disabled = _this$props11.disabled,\n        visible = _this$props11.visible,\n        innerRef = _this$props11.innerRef,\n        draggable = _this$props11.draggable;\n    var classes = classNames(className, classPrefix, (_classNames3 = {\n      'text-muted': disabled\n    }, _classNames3[this.addPrefix('disabled')] = disabled, _classNames3[this.addPrefix('active')] = active, _classNames3));\n    var padding = layer * TREE_NODE_PADDING + TREE_NODE_ROOT_PADDING;\n\n    var styles = _extends({}, style, (_extends2 = {}, _extends2[rtl ? 'paddingRight' : 'paddingLeft'] = padding, _extends2));\n\n    return visible ? React.createElement(\"div\", {\n      style: styles,\n      className: classes,\n      ref: innerRef,\n      draggable: draggable,\n      onDragStart: this.handleDragStart,\n      onDragEnter: this.handleDragEnter,\n      onDragOver: this.handleDragOver,\n      onDragLeave: this.handleDragLeave,\n      onDragEnd: this.handleDragEnd,\n      onDrop: this.handleDrop\n    }, this.renderIcon(), this.renderLabel()) : null;\n  };\n\n  return TreeNode;\n}(React.Component);\n\nTreeNode.propTypes = {\n  layer: PropTypes.number,\n  value: PropTypes.any,\n  label: PropTypes.any,\n  expand: PropTypes.bool,\n  active: PropTypes.bool,\n  visible: PropTypes.bool,\n  nodeData: PropTypes.any,\n  disabled: PropTypes.bool,\n  draggable: PropTypes.bool,\n  dragOver: PropTypes.bool,\n  hasChildren: PropTypes.bool,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  style: PropTypes.object,\n  innerRef: refType,\n  onTreeToggle: PropTypes.func,\n  onSelect: PropTypes.func,\n  onRenderTreeIcon: PropTypes.func,\n  onRenderTreeNode: PropTypes.func,\n  onDragStart: PropTypes.func,\n  onDragEnter: PropTypes.func,\n  onDragOver: PropTypes.func,\n  onDragLeave: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDrop: PropTypes.func\n};\nTreeNode.defaultProps = {\n  visible: true\n};\nexport default defaultProps({\n  classPrefix: 'tree-node'\n})(TreeNode);"]},"metadata":{},"sourceType":"module"}