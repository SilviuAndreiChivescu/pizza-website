{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _camelCase from \"lodash/camelCase\";\nimport _isNumber from \"lodash/isNumber\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { getPosition, scrollTop } from 'dom-lib';\nimport FormattedMessage from '../IntlProvider/FormattedMessage';\nimport classNames from 'classnames';\nimport { prefix, getUnhandledProps, defaultProps } from '../utils';\nimport scrollTopAnimation from '../utils/scrollTopAnimation';\nimport setHours from \"date-fns/set_hours\";\nimport setMinutes from \"date-fns/set_minutes\";\nimport setSeconds from \"date-fns/set_seconds\";\nimport getSeconds from \"date-fns/get_seconds\";\nimport getMinutes from \"date-fns/get_minutes\";\nimport getHours from \"date-fns/get_hours\";\n\nfunction getRanges(meridian) {\n  return {\n    hours: {\n      start: 0,\n      end: meridian ? 11 : 23\n    },\n    minutes: {\n      start: 0,\n      end: 59\n    },\n    seconds: {\n      start: 0,\n      end: 59\n    }\n  };\n}\n\nexport function getMeridianHours(hours) {\n  return hours >= 12 ? hours - 12 : hours;\n}\n\nvar TimeDropdown = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TimeDropdown, _React$PureComponent);\n\n  function TimeDropdown() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.container = {};\n\n    _this.scrollTo = function (time) {\n      Object.entries(time).forEach(function (item) {\n        var container = _this.container[item[0]];\n        var node = container.querySelector(\"[data-key=\\\"\" + item[0] + \"-\" + item[1] + \"\\\"]\");\n\n        if (node && container) {\n          var _getPosition = getPosition(node, container),\n              top = _getPosition.top;\n\n          scrollTopAnimation(_this.container[item[0]], top, scrollTop(_this.container[item[0]]) !== 0);\n        }\n      });\n    };\n\n    _this.handleClick = function (type, d, event) {\n      var _this$props = _this.props,\n          onSelect = _this$props.onSelect,\n          date = _this$props.date; // $FlowFixMe\n\n      var nextDate = date || new Date();\n\n      switch (type) {\n        case 'hours':\n          nextDate = setHours(date, d);\n          break;\n\n        case 'minutes':\n          nextDate = setMinutes(date, d);\n          break;\n\n        case 'seconds':\n          nextDate = setSeconds(date, d);\n          break;\n      }\n\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(nextDate, event);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    return _this;\n  }\n\n  var _proto = TimeDropdown.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updatePosition();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.updatePosition();\n  };\n\n  _proto.getTime = function getTime(props) {\n    var _ref = props || this.props,\n        format = _ref.format,\n        date = _ref.date,\n        showMeridian = _ref.showMeridian;\n\n    var time = date || new Date();\n    var nextTime = {};\n\n    if (!format) {\n      return nextTime;\n    }\n\n    if (/(H|h)/.test(format)) {\n      var hours = getHours(time);\n      nextTime.hours = showMeridian ? getMeridianHours(hours) : hours;\n    }\n\n    if (/m/.test(format)) {\n      nextTime.minutes = getMinutes(time);\n    }\n\n    if (/s/.test(format)) {\n      nextTime.seconds = getSeconds(time);\n    }\n\n    return nextTime;\n  };\n\n  _proto.updatePosition = function updatePosition(props) {\n    var _ref2 = props || this.props,\n        show = _ref2.show;\n\n    var time = this.getTime(props);\n    show && this.scrollTo(time);\n  };\n\n  _proto.renderColumn = function renderColumn(type, active) {\n    var _this2 = this;\n\n    var showMeridian = this.props.showMeridian;\n\n    if (!_isNumber(active)) {\n      return null;\n    }\n\n    var date = this.props.date;\n    var _getRanges$type = getRanges(showMeridian)[type],\n        start = _getRanges$type.start,\n        end = _getRanges$type.end;\n    var items = [];\n\n    var hideFunc = this.props[_camelCase(\"hide_\" + type)];\n\n    var disabledFunc = this.props[_camelCase(\"disabled_\" + type)];\n\n    for (var i = start; i <= end; i += 1) {\n      if (!(hideFunc === null || hideFunc === void 0 ? void 0 : hideFunc(i, date))) {\n        var _classNames;\n\n        var disabled = disabledFunc === null || disabledFunc === void 0 ? void 0 : disabledFunc(i, date);\n        var itemClasses = classNames(this.addPrefix('cell'), (_classNames = {}, _classNames[this.addPrefix('cell-active')] = active === i, _classNames[this.addPrefix('cell-disabled')] = disabled, _classNames));\n        items.push(React.createElement(\"li\", {\n          key: i\n        }, React.createElement(\"a\", {\n          role: \"menu\",\n          className: itemClasses,\n          tabIndex: -1,\n          \"data-key\": type + \"-\" + i,\n          onClick: !disabled ? this.handleClick.bind(this, type, i) : null\n        }, showMeridian && type === 'hours' && i === 0 ? '12' : i)));\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: this.addPrefix('column')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('column-title')\n    }, React.createElement(FormattedMessage, {\n      id: type\n    })), React.createElement(\"ul\", {\n      ref: function ref(_ref3) {\n        _this2.container[type] = _ref3;\n      }\n    }, items));\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        classPrefix = _this$props2.classPrefix,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"className\", \"classPrefix\"]);\n\n    var time = this.getTime();\n    var classes = classNames(classPrefix, className);\n    var unhandled = getUnhandledProps(TimeDropdown, rest);\n    return React.createElement(\"div\", _extends({}, unhandled, {\n      className: classes\n    }), React.createElement(\"div\", {\n      className: this.addPrefix('content')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('row')\n    }, this.renderColumn('hours', time.hours), this.renderColumn('minutes', time.minutes), this.renderColumn('seconds', time.seconds))));\n  };\n\n  return TimeDropdown;\n}(React.PureComponent);\n\nTimeDropdown.propTypes = {\n  date: PropTypes.instanceOf(Date),\n  show: PropTypes.bool,\n  showMeridian: PropTypes.bool,\n  format: PropTypes.string,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  disabledDate: PropTypes.func,\n  disabledHours: PropTypes.func,\n  disabledMinutes: PropTypes.func,\n  disabledSeconds: PropTypes.func,\n  hideHours: PropTypes.func,\n  hideMinutes: PropTypes.func,\n  hideSeconds: PropTypes.func,\n  onSelect: PropTypes.func\n};\nTimeDropdown.defaultProps = {\n  show: false\n};\nvar enhance = defaultProps({\n  classPrefix: 'calendar-time-dropdown'\n});\nexport default enhance(TimeDropdown);","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/node_modules/rsuite/es/Calendar/TimeDropdown.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","_camelCase","_isNumber","React","PropTypes","getPosition","scrollTop","FormattedMessage","classNames","prefix","getUnhandledProps","defaultProps","scrollTopAnimation","setHours","setMinutes","setSeconds","getSeconds","getMinutes","getHours","getRanges","meridian","hours","start","end","minutes","seconds","getMeridianHours","TimeDropdown","_React$PureComponent","_this","_len","arguments","length","args","Array","_key","call","apply","concat","container","scrollTo","time","Object","entries","forEach","item","node","querySelector","_getPosition","top","handleClick","type","d","event","_this$props","props","onSelect","date","nextDate","Date","addPrefix","name","classPrefix","_proto","prototype","componentDidMount","updatePosition","componentDidUpdate","getTime","_ref","format","showMeridian","nextTime","test","_ref2","show","renderColumn","active","_this2","_getRanges$type","items","hideFunc","disabledFunc","i","_classNames","disabled","itemClasses","push","createElement","key","role","className","tabIndex","onClick","bind","id","ref","_ref3","render","_this$props2","rest","classes","unhandled","PureComponent","propTypes","instanceOf","bool","string","disabledDate","func","disabledHours","disabledMinutes","disabledSeconds","hideHours","hideMinutes","hideSeconds","enhance"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _camelCase from \"lodash/camelCase\";\nimport _isNumber from \"lodash/isNumber\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { getPosition, scrollTop } from 'dom-lib';\nimport FormattedMessage from '../IntlProvider/FormattedMessage';\nimport classNames from 'classnames';\nimport { prefix, getUnhandledProps, defaultProps } from '../utils';\nimport scrollTopAnimation from '../utils/scrollTopAnimation';\nimport setHours from \"date-fns/set_hours\";\nimport setMinutes from \"date-fns/set_minutes\";\nimport setSeconds from \"date-fns/set_seconds\";\nimport getSeconds from \"date-fns/get_seconds\";\nimport getMinutes from \"date-fns/get_minutes\";\nimport getHours from \"date-fns/get_hours\";\n\nfunction getRanges(meridian) {\n  return {\n    hours: {\n      start: 0,\n      end: meridian ? 11 : 23\n    },\n    minutes: {\n      start: 0,\n      end: 59\n    },\n    seconds: {\n      start: 0,\n      end: 59\n    }\n  };\n}\n\nexport function getMeridianHours(hours) {\n  return hours >= 12 ? hours - 12 : hours;\n}\n\nvar TimeDropdown =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inheritsLoose(TimeDropdown, _React$PureComponent);\n\n  function TimeDropdown() {\n    var _this;\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _React$PureComponent.call.apply(_React$PureComponent, [this].concat(args)) || this;\n    _this.container = {};\n\n    _this.scrollTo = function (time) {\n      Object.entries(time).forEach(function (item) {\n        var container = _this.container[item[0]];\n        var node = container.querySelector(\"[data-key=\\\"\" + item[0] + \"-\" + item[1] + \"\\\"]\");\n\n        if (node && container) {\n          var _getPosition = getPosition(node, container),\n              top = _getPosition.top;\n\n          scrollTopAnimation(_this.container[item[0]], top, scrollTop(_this.container[item[0]]) !== 0);\n        }\n      });\n    };\n\n    _this.handleClick = function (type, d, event) {\n      var _this$props = _this.props,\n          onSelect = _this$props.onSelect,\n          date = _this$props.date; // $FlowFixMe\n\n      var nextDate = date || new Date();\n\n      switch (type) {\n        case 'hours':\n          nextDate = setHours(date, d);\n          break;\n\n        case 'minutes':\n          nextDate = setMinutes(date, d);\n          break;\n\n        case 'seconds':\n          nextDate = setSeconds(date, d);\n          break;\n      }\n\n      onSelect === null || onSelect === void 0 ? void 0 : onSelect(nextDate, event);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    return _this;\n  }\n\n  var _proto = TimeDropdown.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updatePosition();\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate() {\n    this.updatePosition();\n  };\n\n  _proto.getTime = function getTime(props) {\n    var _ref = props || this.props,\n        format = _ref.format,\n        date = _ref.date,\n        showMeridian = _ref.showMeridian;\n\n    var time = date || new Date();\n    var nextTime = {};\n\n    if (!format) {\n      return nextTime;\n    }\n\n    if (/(H|h)/.test(format)) {\n      var hours = getHours(time);\n      nextTime.hours = showMeridian ? getMeridianHours(hours) : hours;\n    }\n\n    if (/m/.test(format)) {\n      nextTime.minutes = getMinutes(time);\n    }\n\n    if (/s/.test(format)) {\n      nextTime.seconds = getSeconds(time);\n    }\n\n    return nextTime;\n  };\n\n  _proto.updatePosition = function updatePosition(props) {\n    var _ref2 = props || this.props,\n        show = _ref2.show;\n\n    var time = this.getTime(props);\n    show && this.scrollTo(time);\n  };\n\n  _proto.renderColumn = function renderColumn(type, active) {\n    var _this2 = this;\n\n    var showMeridian = this.props.showMeridian;\n\n    if (!_isNumber(active)) {\n      return null;\n    }\n\n    var date = this.props.date;\n    var _getRanges$type = getRanges(showMeridian)[type],\n        start = _getRanges$type.start,\n        end = _getRanges$type.end;\n    var items = [];\n\n    var hideFunc = this.props[_camelCase(\"hide_\" + type)];\n\n    var disabledFunc = this.props[_camelCase(\"disabled_\" + type)];\n\n    for (var i = start; i <= end; i += 1) {\n      if (!(hideFunc === null || hideFunc === void 0 ? void 0 : hideFunc(i, date))) {\n        var _classNames;\n\n        var disabled = disabledFunc === null || disabledFunc === void 0 ? void 0 : disabledFunc(i, date);\n        var itemClasses = classNames(this.addPrefix('cell'), (_classNames = {}, _classNames[this.addPrefix('cell-active')] = active === i, _classNames[this.addPrefix('cell-disabled')] = disabled, _classNames));\n        items.push(React.createElement(\"li\", {\n          key: i\n        }, React.createElement(\"a\", {\n          role: \"menu\",\n          className: itemClasses,\n          tabIndex: -1,\n          \"data-key\": type + \"-\" + i,\n          onClick: !disabled ? this.handleClick.bind(this, type, i) : null\n        }, showMeridian && type === 'hours' && i === 0 ? '12' : i)));\n      }\n    }\n\n    return React.createElement(\"div\", {\n      className: this.addPrefix('column')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('column-title')\n    }, React.createElement(FormattedMessage, {\n      id: type\n    })), React.createElement(\"ul\", {\n      ref: function ref(_ref3) {\n        _this2.container[type] = _ref3;\n      }\n    }, items));\n  };\n\n  _proto.render = function render() {\n    var _this$props2 = this.props,\n        className = _this$props2.className,\n        classPrefix = _this$props2.classPrefix,\n        rest = _objectWithoutPropertiesLoose(_this$props2, [\"className\", \"classPrefix\"]);\n\n    var time = this.getTime();\n    var classes = classNames(classPrefix, className);\n    var unhandled = getUnhandledProps(TimeDropdown, rest);\n    return React.createElement(\"div\", _extends({}, unhandled, {\n      className: classes\n    }), React.createElement(\"div\", {\n      className: this.addPrefix('content')\n    }, React.createElement(\"div\", {\n      className: this.addPrefix('row')\n    }, this.renderColumn('hours', time.hours), this.renderColumn('minutes', time.minutes), this.renderColumn('seconds', time.seconds))));\n  };\n\n  return TimeDropdown;\n}(React.PureComponent);\n\nTimeDropdown.propTypes = {\n  date: PropTypes.instanceOf(Date),\n  show: PropTypes.bool,\n  showMeridian: PropTypes.bool,\n  format: PropTypes.string,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  disabledDate: PropTypes.func,\n  disabledHours: PropTypes.func,\n  disabledMinutes: PropTypes.func,\n  disabledSeconds: PropTypes.func,\n  hideHours: PropTypes.func,\n  hideMinutes: PropTypes.func,\n  hideSeconds: PropTypes.func,\n  onSelect: PropTypes.func\n};\nTimeDropdown.defaultProps = {\n  show: false\n};\nvar enhance = defaultProps({\n  classPrefix: 'calendar-time-dropdown'\n});\nexport default enhance(TimeDropdown);"]},"metadata":{},"sourceType":"module"}