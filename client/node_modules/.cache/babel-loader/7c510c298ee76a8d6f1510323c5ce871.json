{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { DOMMouseMoveTracker, addStyle, getOffset } from 'dom-lib';\nimport { SCROLLBAR_MIN_WIDTH } from './constants';\nimport { defaultClassPrefix, getUnhandledProps, prefix } from './utils';\nimport TableContext from './TableContext';\nvar propTypes = {\n  tableId: PropTypes.string,\n  vertical: PropTypes.bool,\n  length: PropTypes.number,\n  scrollLength: PropTypes.number,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  onScroll: PropTypes.func,\n  onMouseDown: PropTypes.func\n};\n\nvar Scrollbar = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Scrollbar, _React$PureComponent);\n\n  function Scrollbar(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.scrollOffset = 0;\n    _this.mouseMoveTracker = null;\n    _this.handleRef = void 0;\n    _this.barRef = void 0;\n\n    _this.handleMouseDown = function (event) {\n      var _this$mouseMoveTracke, _this$props$onMouseDo, _this$props;\n\n      _this.mouseMoveTracker = _this.getMouseMoveTracker();\n      (_this$mouseMoveTracke = _this.mouseMoveTracker) === null || _this$mouseMoveTracke === void 0 ? void 0 : _this$mouseMoveTracke.captureMouseMoves(event);\n\n      _this.setState({\n        handlePressed: true\n      });\n\n      (_this$props$onMouseDo = (_this$props = _this.props).onMouseDown) === null || _this$props$onMouseDo === void 0 ? void 0 : _this$props$onMouseDo.call(_this$props, event);\n    };\n\n    _this.handleDragEnd = function () {\n      _this.releaseMouseMoves();\n\n      _this.setState({\n        handlePressed: false\n      });\n    };\n\n    _this.handleDragMove = function (deltaX, deltaY, event) {\n      var _window, _window$event;\n\n      var vertical = _this.props.vertical;\n\n      if (!_this.mouseMoveTracker || !_this.mouseMoveTracker.isDragging()) {\n        return;\n      }\n\n      if ((event === null || event === void 0 ? void 0 : event.buttons) === 0 || ((_window = window) === null || _window === void 0 ? void 0 : (_window$event = _window.event) === null || _window$event === void 0 ? void 0 : _window$event['buttons']) === 0) {\n        _this.releaseMouseMoves();\n\n        return;\n      }\n\n      _this.handleScroll(vertical ? deltaY : deltaX, event);\n    };\n\n    _this.handleClick = function (event) {\n      var _this$handleRef$curre;\n\n      if (_this.handleRef.current && (_this$handleRef$curre = _this.handleRef.current) !== null && _this$handleRef$curre !== void 0 && _this$handleRef$curre.contains(event.target)) {\n        return;\n      }\n\n      var _this$props2 = _this.props,\n          vertical = _this$props2.vertical,\n          length = _this$props2.length,\n          scrollLength = _this$props2.scrollLength;\n      var barOffset = _this.state.barOffset;\n      var offset = vertical ? event.pageY - barOffset.top : event.pageX - barOffset.left;\n      var handleWidth = length / scrollLength * length;\n      var delta = offset - handleWidth;\n      var nextDelta = offset > _this.scrollOffset ? delta - _this.scrollOffset : offset - _this.scrollOffset;\n\n      _this.handleScroll(nextDelta, event);\n    };\n\n    _this.state = {\n      barOffset: {\n        top: 0,\n        left: 0\n      },\n      handlePressed: false\n    };\n    _this.handleRef = /*#__PURE__*/React.createRef();\n    _this.barRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  var _proto = Scrollbar.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.initBarOffset();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.releaseMouseMoves();\n  };\n\n  _proto.onWheelScroll = function onWheelScroll(delta) {\n    var _this$props3 = this.props,\n        length = _this$props3.length,\n        scrollLength = _this$props3.scrollLength;\n    var nextDelta = delta / (scrollLength / length);\n    this.updateScrollBarPosition(nextDelta);\n  };\n\n  _proto.getMouseMoveTracker = function getMouseMoveTracker() {\n    return this.mouseMoveTracker || new DOMMouseMoveTracker(this.handleDragMove, this.handleDragEnd, document.body);\n  };\n\n  _proto.initBarOffset = function initBarOffset() {\n    var _this2 = this;\n\n    setTimeout(function () {\n      _this2.barRef.current && _this2.setState({\n        barOffset: getOffset(_this2.barRef.current)\n      });\n    }, 1);\n  };\n\n  _proto.handleScroll = function handleScroll(delta, event) {\n    var _this$props$onScroll, _this$props5;\n\n    var _this$props4 = this.props,\n        length = _this$props4.length,\n        scrollLength = _this$props4.scrollLength;\n    var scrollDelta = delta * (scrollLength / length);\n    this.updateScrollBarPosition(delta);\n    (_this$props$onScroll = (_this$props5 = this.props).onScroll) === null || _this$props$onScroll === void 0 ? void 0 : _this$props$onScroll.call(_this$props5, scrollDelta, event);\n  };\n\n  _proto.resetScrollBarPosition = function resetScrollBarPosition(forceDelta) {\n    if (forceDelta === void 0) {\n      forceDelta = 0;\n    }\n\n    this.scrollOffset = 0;\n    this.updateScrollBarPosition(0, forceDelta);\n  };\n\n  _proto.updateScrollBarPosition = function updateScrollBarPosition(delta, forceDelta) {\n    var _this$props6 = this.props,\n        vertical = _this$props6.vertical,\n        length = _this$props6.length,\n        scrollLength = _this$props6.scrollLength;\n    var translateDOMPositionXY = this.context.translateDOMPositionXY;\n    var max = scrollLength && length ? length - Math.max(length / scrollLength * length, SCROLLBAR_MIN_WIDTH + 2) : 0;\n    var styles = {};\n\n    if (typeof forceDelta === 'undefined') {\n      this.scrollOffset += delta;\n      this.scrollOffset = Math.max(this.scrollOffset, 0);\n      this.scrollOffset = Math.min(this.scrollOffset, max);\n    } else {\n      this.scrollOffset = forceDelta || 0;\n    }\n\n    if (vertical) {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, 0, this.scrollOffset);\n    } else {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, this.scrollOffset, 0);\n    }\n\n    addStyle(this.handleRef.current, styles);\n  };\n\n  _proto.releaseMouseMoves = function releaseMouseMoves() {\n    var _this$mouseMoveTracke2, _this$mouseMoveTracke3;\n\n    (_this$mouseMoveTracke2 = this.mouseMoveTracker) === null || _this$mouseMoveTracke2 === void 0 ? void 0 : (_this$mouseMoveTracke3 = _this$mouseMoveTracke2.releaseMouseMoves) === null || _this$mouseMoveTracke3 === void 0 ? void 0 : _this$mouseMoveTracke3.call(_this$mouseMoveTracke2);\n    this.mouseMoveTracker = null;\n  };\n\n  _proto.render = function render() {\n    var _classNames, _styles;\n\n    var _this$props7 = this.props,\n        vertical = _this$props7.vertical,\n        length = _this$props7.length,\n        scrollLength = _this$props7.scrollLength,\n        classPrefix = _this$props7.classPrefix,\n        className = _this$props7.className,\n        tableId = _this$props7.tableId,\n        rest = _objectWithoutPropertiesLoose(_this$props7, [\"vertical\", \"length\", \"scrollLength\", \"classPrefix\", \"className\", \"tableId\"]);\n\n    var handlePressed = this.state.handlePressed;\n    var addPrefix = prefix(classPrefix);\n    var classes = classNames(classPrefix, className, (_classNames = {}, _classNames[addPrefix('vertical')] = vertical, _classNames[addPrefix('horizontal')] = !vertical, _classNames[addPrefix('hide')] = scrollLength <= length, _classNames[addPrefix('pressed')] = handlePressed, _classNames));\n    var width = length / scrollLength * 100;\n    var styles = (_styles = {}, _styles[vertical ? 'height' : 'width'] = width + \"%\", _styles[vertical ? 'minHeight' : 'minWidth'] = SCROLLBAR_MIN_WIDTH, _styles);\n    var unhandled = getUnhandledProps(propTypes, rest);\n    var valuenow = this.scrollOffset / length * 100 + width;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: \"scrollbar\",\n      \"aria-controls\": tableId,\n      \"aria-valuemax\": \"100\",\n      \"aria-valuemin\": \"0\",\n      \"aria-valuenow\": valuenow,\n      \"aria-orientation\": vertical ? 'vertical' : 'horizontal'\n    }, unhandled, {\n      ref: this.barRef,\n      className: classes,\n      onClick: this.handleClick\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.handleRef,\n      className: addPrefix('handle'),\n      style: styles,\n      onMouseDown: this.handleMouseDown,\n      role: \"button\",\n      tabIndex: -1\n    }));\n  };\n\n  return Scrollbar;\n}(React.PureComponent);\n\nScrollbar.contextType = TableContext;\nScrollbar.propTypes = propTypes;\nScrollbar.defaultProps = {\n  classPrefix: defaultClassPrefix('table-scrollbar'),\n  scrollLength: 1,\n  length: 1\n};\nexport default Scrollbar;","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/node_modules/rsuite-table/es/Scrollbar.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","React","PropTypes","classNames","DOMMouseMoveTracker","addStyle","getOffset","SCROLLBAR_MIN_WIDTH","defaultClassPrefix","getUnhandledProps","prefix","TableContext","propTypes","tableId","string","vertical","bool","length","number","scrollLength","className","classPrefix","onScroll","func","onMouseDown","Scrollbar","_React$PureComponent","props","_this","call","scrollOffset","mouseMoveTracker","handleRef","barRef","handleMouseDown","event","_this$mouseMoveTracke","_this$props$onMouseDo","_this$props","getMouseMoveTracker","captureMouseMoves","setState","handlePressed","handleDragEnd","releaseMouseMoves","handleDragMove","deltaX","deltaY","_window","_window$event","isDragging","buttons","window","handleScroll","handleClick","_this$handleRef$curre","current","contains","target","_this$props2","barOffset","state","offset","pageY","top","pageX","left","handleWidth","delta","nextDelta","createRef","_proto","prototype","componentDidMount","initBarOffset","componentWillUnmount","onWheelScroll","_this$props3","updateScrollBarPosition","document","body","_this2","setTimeout","_this$props$onScroll","_this$props5","_this$props4","scrollDelta","resetScrollBarPosition","forceDelta","_this$props6","translateDOMPositionXY","context","max","Math","styles","min","_this$mouseMoveTracke2","_this$mouseMoveTracke3","render","_classNames","_styles","_this$props7","rest","addPrefix","classes","width","unhandled","valuenow","createElement","role","ref","onClick","style","tabIndex","PureComponent","contextType","defaultProps"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { DOMMouseMoveTracker, addStyle, getOffset } from 'dom-lib';\nimport { SCROLLBAR_MIN_WIDTH } from './constants';\nimport { defaultClassPrefix, getUnhandledProps, prefix } from './utils';\nimport TableContext from './TableContext';\nvar propTypes = {\n  tableId: PropTypes.string,\n  vertical: PropTypes.bool,\n  length: PropTypes.number,\n  scrollLength: PropTypes.number,\n  className: PropTypes.string,\n  classPrefix: PropTypes.string,\n  onScroll: PropTypes.func,\n  onMouseDown: PropTypes.func\n};\n\nvar Scrollbar = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(Scrollbar, _React$PureComponent);\n\n  function Scrollbar(props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, props) || this;\n    _this.scrollOffset = 0;\n    _this.mouseMoveTracker = null;\n    _this.handleRef = void 0;\n    _this.barRef = void 0;\n\n    _this.handleMouseDown = function (event) {\n      var _this$mouseMoveTracke, _this$props$onMouseDo, _this$props;\n\n      _this.mouseMoveTracker = _this.getMouseMoveTracker();\n      (_this$mouseMoveTracke = _this.mouseMoveTracker) === null || _this$mouseMoveTracke === void 0 ? void 0 : _this$mouseMoveTracke.captureMouseMoves(event);\n\n      _this.setState({\n        handlePressed: true\n      });\n\n      (_this$props$onMouseDo = (_this$props = _this.props).onMouseDown) === null || _this$props$onMouseDo === void 0 ? void 0 : _this$props$onMouseDo.call(_this$props, event);\n    };\n\n    _this.handleDragEnd = function () {\n      _this.releaseMouseMoves();\n\n      _this.setState({\n        handlePressed: false\n      });\n    };\n\n    _this.handleDragMove = function (deltaX, deltaY, event) {\n      var _window, _window$event;\n\n      var vertical = _this.props.vertical;\n\n      if (!_this.mouseMoveTracker || !_this.mouseMoveTracker.isDragging()) {\n        return;\n      }\n\n      if ((event === null || event === void 0 ? void 0 : event.buttons) === 0 || ((_window = window) === null || _window === void 0 ? void 0 : (_window$event = _window.event) === null || _window$event === void 0 ? void 0 : _window$event['buttons']) === 0) {\n        _this.releaseMouseMoves();\n\n        return;\n      }\n\n      _this.handleScroll(vertical ? deltaY : deltaX, event);\n    };\n\n    _this.handleClick = function (event) {\n      var _this$handleRef$curre;\n\n      if (_this.handleRef.current && (_this$handleRef$curre = _this.handleRef.current) !== null && _this$handleRef$curre !== void 0 && _this$handleRef$curre.contains(event.target)) {\n        return;\n      }\n\n      var _this$props2 = _this.props,\n          vertical = _this$props2.vertical,\n          length = _this$props2.length,\n          scrollLength = _this$props2.scrollLength;\n      var barOffset = _this.state.barOffset;\n      var offset = vertical ? event.pageY - barOffset.top : event.pageX - barOffset.left;\n      var handleWidth = length / scrollLength * length;\n      var delta = offset - handleWidth;\n      var nextDelta = offset > _this.scrollOffset ? delta - _this.scrollOffset : offset - _this.scrollOffset;\n\n      _this.handleScroll(nextDelta, event);\n    };\n\n    _this.state = {\n      barOffset: {\n        top: 0,\n        left: 0\n      },\n      handlePressed: false\n    };\n    _this.handleRef = /*#__PURE__*/React.createRef();\n    _this.barRef = /*#__PURE__*/React.createRef();\n    return _this;\n  }\n\n  var _proto = Scrollbar.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.initBarOffset();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.releaseMouseMoves();\n  };\n\n  _proto.onWheelScroll = function onWheelScroll(delta) {\n    var _this$props3 = this.props,\n        length = _this$props3.length,\n        scrollLength = _this$props3.scrollLength;\n    var nextDelta = delta / (scrollLength / length);\n    this.updateScrollBarPosition(nextDelta);\n  };\n\n  _proto.getMouseMoveTracker = function getMouseMoveTracker() {\n    return this.mouseMoveTracker || new DOMMouseMoveTracker(this.handleDragMove, this.handleDragEnd, document.body);\n  };\n\n  _proto.initBarOffset = function initBarOffset() {\n    var _this2 = this;\n\n    setTimeout(function () {\n      _this2.barRef.current && _this2.setState({\n        barOffset: getOffset(_this2.barRef.current)\n      });\n    }, 1);\n  };\n\n  _proto.handleScroll = function handleScroll(delta, event) {\n    var _this$props$onScroll, _this$props5;\n\n    var _this$props4 = this.props,\n        length = _this$props4.length,\n        scrollLength = _this$props4.scrollLength;\n    var scrollDelta = delta * (scrollLength / length);\n    this.updateScrollBarPosition(delta);\n    (_this$props$onScroll = (_this$props5 = this.props).onScroll) === null || _this$props$onScroll === void 0 ? void 0 : _this$props$onScroll.call(_this$props5, scrollDelta, event);\n  };\n\n  _proto.resetScrollBarPosition = function resetScrollBarPosition(forceDelta) {\n    if (forceDelta === void 0) {\n      forceDelta = 0;\n    }\n\n    this.scrollOffset = 0;\n    this.updateScrollBarPosition(0, forceDelta);\n  };\n\n  _proto.updateScrollBarPosition = function updateScrollBarPosition(delta, forceDelta) {\n    var _this$props6 = this.props,\n        vertical = _this$props6.vertical,\n        length = _this$props6.length,\n        scrollLength = _this$props6.scrollLength;\n    var translateDOMPositionXY = this.context.translateDOMPositionXY;\n    var max = scrollLength && length ? length - Math.max(length / scrollLength * length, SCROLLBAR_MIN_WIDTH + 2) : 0;\n    var styles = {};\n\n    if (typeof forceDelta === 'undefined') {\n      this.scrollOffset += delta;\n      this.scrollOffset = Math.max(this.scrollOffset, 0);\n      this.scrollOffset = Math.min(this.scrollOffset, max);\n    } else {\n      this.scrollOffset = forceDelta || 0;\n    }\n\n    if (vertical) {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, 0, this.scrollOffset);\n    } else {\n      translateDOMPositionXY === null || translateDOMPositionXY === void 0 ? void 0 : translateDOMPositionXY(styles, this.scrollOffset, 0);\n    }\n\n    addStyle(this.handleRef.current, styles);\n  };\n\n  _proto.releaseMouseMoves = function releaseMouseMoves() {\n    var _this$mouseMoveTracke2, _this$mouseMoveTracke3;\n\n    (_this$mouseMoveTracke2 = this.mouseMoveTracker) === null || _this$mouseMoveTracke2 === void 0 ? void 0 : (_this$mouseMoveTracke3 = _this$mouseMoveTracke2.releaseMouseMoves) === null || _this$mouseMoveTracke3 === void 0 ? void 0 : _this$mouseMoveTracke3.call(_this$mouseMoveTracke2);\n    this.mouseMoveTracker = null;\n  };\n\n  _proto.render = function render() {\n    var _classNames, _styles;\n\n    var _this$props7 = this.props,\n        vertical = _this$props7.vertical,\n        length = _this$props7.length,\n        scrollLength = _this$props7.scrollLength,\n        classPrefix = _this$props7.classPrefix,\n        className = _this$props7.className,\n        tableId = _this$props7.tableId,\n        rest = _objectWithoutPropertiesLoose(_this$props7, [\"vertical\", \"length\", \"scrollLength\", \"classPrefix\", \"className\", \"tableId\"]);\n\n    var handlePressed = this.state.handlePressed;\n    var addPrefix = prefix(classPrefix);\n    var classes = classNames(classPrefix, className, (_classNames = {}, _classNames[addPrefix('vertical')] = vertical, _classNames[addPrefix('horizontal')] = !vertical, _classNames[addPrefix('hide')] = scrollLength <= length, _classNames[addPrefix('pressed')] = handlePressed, _classNames));\n    var width = length / scrollLength * 100;\n    var styles = (_styles = {}, _styles[vertical ? 'height' : 'width'] = width + \"%\", _styles[vertical ? 'minHeight' : 'minWidth'] = SCROLLBAR_MIN_WIDTH, _styles);\n    var unhandled = getUnhandledProps(propTypes, rest);\n    var valuenow = this.scrollOffset / length * 100 + width;\n    return /*#__PURE__*/React.createElement(\"div\", _extends({\n      role: \"scrollbar\",\n      \"aria-controls\": tableId,\n      \"aria-valuemax\": \"100\",\n      \"aria-valuemin\": \"0\",\n      \"aria-valuenow\": valuenow,\n      \"aria-orientation\": vertical ? 'vertical' : 'horizontal'\n    }, unhandled, {\n      ref: this.barRef,\n      className: classes,\n      onClick: this.handleClick\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.handleRef,\n      className: addPrefix('handle'),\n      style: styles,\n      onMouseDown: this.handleMouseDown,\n      role: \"button\",\n      tabIndex: -1\n    }));\n  };\n\n  return Scrollbar;\n}(React.PureComponent);\n\nScrollbar.contextType = TableContext;\nScrollbar.propTypes = propTypes;\nScrollbar.defaultProps = {\n  classPrefix: defaultClassPrefix('table-scrollbar'),\n  scrollLength: 1,\n  length: 1\n};\nexport default Scrollbar;"]},"metadata":{},"sourceType":"module"}