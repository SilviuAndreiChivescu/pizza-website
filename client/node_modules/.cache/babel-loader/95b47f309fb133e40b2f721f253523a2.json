{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _pick from \"lodash/pick\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { setStatic } from 'recompose';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport BaseModal from './BaseModal';\nimport Bounce from '../Animation/Bounce';\nimport { on, getHeight } from 'dom-lib';\nimport { prefix, defaultProps, createChainedFunction } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { SIZE } from '../constants';\nimport ModalContext from './ModalContext';\nimport mergeRefs from '../utils/mergeRefs';\nvar BACKDROP_TRANSITION_DURATION = 150;\n\nvar Modal = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Modal, _React$Component); // for test\n\n\n  function Modal(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.dialogElement = void 0;\n    _this.modalRef = void 0;\n    _this.windowResizeListener = null;\n    _this.contentElement = null;\n\n    _this.getBodyStyles = function () {\n      return _this.state.bodyStyles;\n    };\n\n    _this.bindDialogRef = function (ref) {\n      _this.dialogElement = ref;\n    };\n\n    _this.handleShow = function () {\n      var dialogElement = _this.dialogElement;\n\n      _this.updateModalStyles(dialogElement);\n\n      _this.contentElement = dialogElement.querySelector(\".\" + _this.addPrefix('content'));\n      _this.windowResizeListener = on(window, 'resize', _this.handleResize);\n      bindElementResize(_this.contentElement, _this.handleResize);\n    };\n\n    _this.handleShowing = function () {\n      _this.updateModalStyles(_this.dialogElement, true);\n    };\n\n    _this.handleHide = function () {\n      _this.destroyEvent();\n    };\n\n    _this.handleDialogClick = function (event) {\n      var _this$props, _this$props$onHide;\n\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      (_this$props = _this.props) === null || _this$props === void 0 ? void 0 : (_this$props$onHide = _this$props.onHide) === null || _this$props$onHide === void 0 ? void 0 : _this$props$onHide.call(_this$props, event);\n    };\n\n    _this.handleResize = function () {\n      _this.updateModalStyles(_this.dialogElement);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.state = {\n      bodyStyles: {}\n    };\n    _this.modalRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.destroyEvent();\n  };\n\n  _proto.getBodyStylesByDialog = function getBodyStylesByDialog(dialogElement, entering) {\n    var _this$props2 = this.props,\n        overflow = _this$props2.overflow,\n        drawer = _this$props2.drawer;\n    var node = dialogElement || this.dialogElement;\n    var scrollHeight = node ? node.scrollHeight : 0;\n\n    if (!overflow) {\n      return {};\n    }\n\n    var bodyStyles = {\n      overflow: 'auto'\n    };\n\n    if (node) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = node.querySelector(\".\" + this.addPrefix('header'));\n      var footerDOM = node.querySelector(\".\" + this.addPrefix('footer'));\n      var contentDOM = node.querySelector(\".\" + this.addPrefix('content'));\n      headerHeight = headerDOM ? getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        bodyStyles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + (entering ? 76 : 60);\n        var bodyHeight = getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        bodyStyles.maxHeight = maxHeight;\n      }\n    }\n\n    return bodyStyles;\n  };\n\n  _proto.destroyEvent = function destroyEvent() {\n    var _this$windowResizeLis, _this$windowResizeLis2;\n\n    (_this$windowResizeLis = this.windowResizeListener) === null || _this$windowResizeLis === void 0 ? void 0 : (_this$windowResizeLis2 = _this$windowResizeLis.off) === null || _this$windowResizeLis2 === void 0 ? void 0 : _this$windowResizeLis2.call(_this$windowResizeLis);\n\n    if (this.contentElement) {\n      unbindElementResize(this.contentElement);\n    }\n  };\n\n  _proto.updateModalStyles = function updateModalStyles(dialogElement, entering) {\n    this.setState({\n      bodyStyles: this.getBodyStylesByDialog(dialogElement, entering)\n    });\n  };\n\n  _proto.render = function render() {\n    var _classNames,\n        _classNames2,\n        _this2 = this;\n\n    var _this$props3 = this.props,\n        className = _this$props3.className,\n        children = _this$props3.children,\n        dialogClassName = _this$props3.dialogClassName,\n        backdropClassName = _this$props3.backdropClassName,\n        dialogStyle = _this$props3.dialogStyle,\n        animation = _this$props3.animation,\n        classPrefix = _this$props3.classPrefix,\n        show = _this$props3.show,\n        size = _this$props3.size,\n        full = _this$props3.full,\n        dialogComponentClass = _this$props3.dialogComponentClass,\n        animationProps = _this$props3.animationProps,\n        animationTimeout = _this$props3.animationTimeout,\n        onHide = _this$props3.onHide,\n        rest = _objectWithoutPropertiesLoose(_this$props3, [\"className\", \"children\", \"dialogClassName\", \"backdropClassName\", \"dialogStyle\", \"animation\", \"classPrefix\", \"show\", \"size\", \"full\", \"dialogComponentClass\", \"animationProps\", \"animationTimeout\", \"onHide\"]);\n\n    var inClass = {\n      in: show && !animation\n    };\n    var Dialog = dialogComponentClass;\n    var classes = classNames(this.addPrefix(size), className, (_classNames = {}, _classNames[this.addPrefix('full')] = full, _classNames));\n    return React.createElement(ModalContext.Provider, {\n      value: {\n        onModalHide: onHide,\n        getBodyStyles: this.getBodyStyles\n      }\n    }, React.createElement(BaseModal, _extends({}, rest, {\n      ref: this.modalRef,\n      show: show,\n      onHide: onHide,\n      className: this.addPrefix('wrapper'),\n      onEntered: createChainedFunction(this.handleShow, this.props.onEntered),\n      onEntering: createChainedFunction(this.handleShowing, this.props.onEntering),\n      onExited: createChainedFunction(this.handleHide, this.props.onExited),\n      backdropClassName: classNames(this.addPrefix('backdrop'), backdropClassName, inClass),\n      containerClassName: classNames(this.addPrefix('open'), (_classNames2 = {}, _classNames2[this.addPrefix('has-backdrop')] = rest.backdrop, _classNames2)),\n      transition: animation ? animation : undefined,\n      animationProps: animationProps,\n      dialogTransitionTimeout: animationTimeout,\n      backdropTransitionTimeout: BACKDROP_TRANSITION_DURATION\n    }), function (transitionProps, ref) {\n      var transitionClassName = transitionProps.className,\n          transitionRest = _objectWithoutPropertiesLoose(transitionProps, [\"className\"]);\n\n      return React.createElement(Dialog, _extends({}, transitionRest, _pick(rest, Object.keys(modalDialogPropTypes)), {\n        classPrefix: classPrefix,\n        className: classNames(classes, transitionClassName),\n        dialogClassName: dialogClassName,\n        dialogStyle: dialogStyle,\n        onClick: rest.backdrop === true ? _this2.handleDialogClick : null,\n        dialogRef: mergeRefs(_this2.bindDialogRef, ref)\n      }), children);\n    }));\n  };\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = {\n  classPrefix: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  onRendered: PropTypes.func,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  dialogClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  style: PropTypes.object,\n  dialogStyle: PropTypes.object,\n  backdropStyle: PropTypes.object,\n  show: PropTypes.bool,\n  full: PropTypes.bool,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  keyboard: PropTypes.bool,\n  transition: PropTypes.elementType,\n  dialogTransitionTimeout: PropTypes.number,\n  backdropTransitionTimeout: PropTypes.number,\n  autoFocus: PropTypes.bool,\n  enforceFocus: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool,\n  dialogComponentClass: PropTypes.elementType,\n  animation: PropTypes.any,\n  animationProps: PropTypes.object,\n  animationTimeout: PropTypes.number,\n  onEscapeKeyUp: PropTypes.func,\n  onBackdropClick: PropTypes.func,\n  onShow: PropTypes.func,\n  onHide: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func\n};\nModal.defaultProps = {\n  size: 'sm',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  animation: Bounce,\n  animationTimeout: 300,\n  dialogComponentClass: ModalDialog,\n  overflow: true\n};\nvar EnhancedModal = defaultProps({\n  classPrefix: 'modal'\n})(Modal);\nsetStatic('Body', ModalBody)(EnhancedModal);\nsetStatic('Header', ModalHeader)(EnhancedModal);\nsetStatic('Title', ModalTitle)(EnhancedModal);\nsetStatic('Footer', ModalFooter)(EnhancedModal);\nsetStatic('Dialog', ModalDialog)(EnhancedModal);\nexport default EnhancedModal;","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/node_modules/rsuite/es/Modal/Modal.js"],"names":["_extends","_objectWithoutPropertiesLoose","_inheritsLoose","_pick","React","PropTypes","classNames","setStatic","bindElementResize","unbind","unbindElementResize","BaseModal","Bounce","on","getHeight","prefix","defaultProps","createChainedFunction","ModalDialog","modalDialogPropTypes","ModalBody","ModalHeader","ModalTitle","ModalFooter","SIZE","ModalContext","mergeRefs","BACKDROP_TRANSITION_DURATION","Modal","_React$Component","props","_this","call","dialogElement","modalRef","windowResizeListener","contentElement","getBodyStyles","state","bodyStyles","bindDialogRef","ref","handleShow","updateModalStyles","querySelector","addPrefix","window","handleResize","handleShowing","handleHide","destroyEvent","handleDialogClick","event","_this$props","_this$props$onHide","target","currentTarget","onHide","name","classPrefix","createRef","_proto","prototype","componentWillUnmount","getBodyStylesByDialog","entering","_this$props2","overflow","drawer","node","scrollHeight","headerHeight","footerHeight","contentHeight","headerDOM","footerDOM","contentDOM","height","excludeHeight","bodyHeight","maxHeight","_this$windowResizeLis","_this$windowResizeLis2","off","setState","render","_classNames","_classNames2","_this2","_this$props3","className","children","dialogClassName","backdropClassName","dialogStyle","animation","show","size","full","dialogComponentClass","animationProps","animationTimeout","rest","inClass","in","Dialog","classes","createElement","Provider","value","onModalHide","onEntered","onEntering","onExited","containerClassName","backdrop","transition","undefined","dialogTransitionTimeout","backdropTransitionTimeout","transitionProps","transitionClassName","transitionRest","Object","keys","onClick","dialogRef","Component","propTypes","string","oneOf","container","oneOfType","func","onRendered","style","object","backdropStyle","bool","keyboard","elementType","number","autoFocus","enforceFocus","any","onEscapeKeyUp","onBackdropClick","onShow","onEnter","onExit","onExiting","EnhancedModal"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/esm/inheritsLoose\";\nimport _pick from \"lodash/pick\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { setStatic } from 'recompose';\nimport bindElementResize, { unbind as unbindElementResize } from 'element-resize-event';\nimport BaseModal from './BaseModal';\nimport Bounce from '../Animation/Bounce';\nimport { on, getHeight } from 'dom-lib';\nimport { prefix, defaultProps, createChainedFunction } from '../utils';\nimport ModalDialog, { modalDialogPropTypes } from './ModalDialog';\nimport ModalBody from './ModalBody';\nimport ModalHeader from './ModalHeader';\nimport ModalTitle from './ModalTitle';\nimport ModalFooter from './ModalFooter';\nimport { SIZE } from '../constants';\nimport ModalContext from './ModalContext';\nimport mergeRefs from '../utils/mergeRefs';\nvar BACKDROP_TRANSITION_DURATION = 150;\n\nvar Modal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inheritsLoose(Modal, _React$Component);\n\n  // for test\n  function Modal(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.dialogElement = void 0;\n    _this.modalRef = void 0;\n    _this.windowResizeListener = null;\n    _this.contentElement = null;\n\n    _this.getBodyStyles = function () {\n      return _this.state.bodyStyles;\n    };\n\n    _this.bindDialogRef = function (ref) {\n      _this.dialogElement = ref;\n    };\n\n    _this.handleShow = function () {\n      var dialogElement = _this.dialogElement;\n\n      _this.updateModalStyles(dialogElement);\n\n      _this.contentElement = dialogElement.querySelector(\".\" + _this.addPrefix('content'));\n      _this.windowResizeListener = on(window, 'resize', _this.handleResize);\n      bindElementResize(_this.contentElement, _this.handleResize);\n    };\n\n    _this.handleShowing = function () {\n      _this.updateModalStyles(_this.dialogElement, true);\n    };\n\n    _this.handleHide = function () {\n      _this.destroyEvent();\n    };\n\n    _this.handleDialogClick = function (event) {\n      var _this$props, _this$props$onHide;\n\n      if (event.target !== event.currentTarget) {\n        return;\n      }\n\n      (_this$props = _this.props) === null || _this$props === void 0 ? void 0 : (_this$props$onHide = _this$props.onHide) === null || _this$props$onHide === void 0 ? void 0 : _this$props$onHide.call(_this$props, event);\n    };\n\n    _this.handleResize = function () {\n      _this.updateModalStyles(_this.dialogElement);\n    };\n\n    _this.addPrefix = function (name) {\n      return prefix(_this.props.classPrefix)(name);\n    };\n\n    _this.state = {\n      bodyStyles: {}\n    };\n    _this.modalRef = React.createRef();\n    return _this;\n  }\n\n  var _proto = Modal.prototype;\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.destroyEvent();\n  };\n\n  _proto.getBodyStylesByDialog = function getBodyStylesByDialog(dialogElement, entering) {\n    var _this$props2 = this.props,\n        overflow = _this$props2.overflow,\n        drawer = _this$props2.drawer;\n    var node = dialogElement || this.dialogElement;\n    var scrollHeight = node ? node.scrollHeight : 0;\n\n    if (!overflow) {\n      return {};\n    }\n\n    var bodyStyles = {\n      overflow: 'auto'\n    };\n\n    if (node) {\n      // default margin\n      var headerHeight = 46;\n      var footerHeight = 46;\n      var contentHeight = 30;\n      var headerDOM = node.querySelector(\".\" + this.addPrefix('header'));\n      var footerDOM = node.querySelector(\".\" + this.addPrefix('footer'));\n      var contentDOM = node.querySelector(\".\" + this.addPrefix('content'));\n      headerHeight = headerDOM ? getHeight(headerDOM) + headerHeight : headerHeight;\n      footerHeight = footerDOM ? getHeight(footerDOM) + headerHeight : headerHeight;\n      contentHeight = contentDOM ? getHeight(contentDOM) + contentHeight : contentHeight;\n\n      if (drawer) {\n        bodyStyles.height = contentHeight - (headerHeight + footerHeight);\n      } else {\n        /**\n         * Header height + Footer height + Dialog margin\n         */\n        var excludeHeight = headerHeight + footerHeight + (entering ? 76 : 60);\n        var bodyHeight = getHeight(window) - excludeHeight;\n        var maxHeight = scrollHeight >= bodyHeight ? bodyHeight : scrollHeight;\n        bodyStyles.maxHeight = maxHeight;\n      }\n    }\n\n    return bodyStyles;\n  };\n\n  _proto.destroyEvent = function destroyEvent() {\n    var _this$windowResizeLis, _this$windowResizeLis2;\n\n    (_this$windowResizeLis = this.windowResizeListener) === null || _this$windowResizeLis === void 0 ? void 0 : (_this$windowResizeLis2 = _this$windowResizeLis.off) === null || _this$windowResizeLis2 === void 0 ? void 0 : _this$windowResizeLis2.call(_this$windowResizeLis);\n\n    if (this.contentElement) {\n      unbindElementResize(this.contentElement);\n    }\n  };\n\n  _proto.updateModalStyles = function updateModalStyles(dialogElement, entering) {\n    this.setState({\n      bodyStyles: this.getBodyStylesByDialog(dialogElement, entering)\n    });\n  };\n\n  _proto.render = function render() {\n    var _classNames,\n        _classNames2,\n        _this2 = this;\n\n    var _this$props3 = this.props,\n        className = _this$props3.className,\n        children = _this$props3.children,\n        dialogClassName = _this$props3.dialogClassName,\n        backdropClassName = _this$props3.backdropClassName,\n        dialogStyle = _this$props3.dialogStyle,\n        animation = _this$props3.animation,\n        classPrefix = _this$props3.classPrefix,\n        show = _this$props3.show,\n        size = _this$props3.size,\n        full = _this$props3.full,\n        dialogComponentClass = _this$props3.dialogComponentClass,\n        animationProps = _this$props3.animationProps,\n        animationTimeout = _this$props3.animationTimeout,\n        onHide = _this$props3.onHide,\n        rest = _objectWithoutPropertiesLoose(_this$props3, [\"className\", \"children\", \"dialogClassName\", \"backdropClassName\", \"dialogStyle\", \"animation\", \"classPrefix\", \"show\", \"size\", \"full\", \"dialogComponentClass\", \"animationProps\", \"animationTimeout\", \"onHide\"]);\n\n    var inClass = {\n      in: show && !animation\n    };\n    var Dialog = dialogComponentClass;\n    var classes = classNames(this.addPrefix(size), className, (_classNames = {}, _classNames[this.addPrefix('full')] = full, _classNames));\n    return React.createElement(ModalContext.Provider, {\n      value: {\n        onModalHide: onHide,\n        getBodyStyles: this.getBodyStyles\n      }\n    }, React.createElement(BaseModal, _extends({}, rest, {\n      ref: this.modalRef,\n      show: show,\n      onHide: onHide,\n      className: this.addPrefix('wrapper'),\n      onEntered: createChainedFunction(this.handleShow, this.props.onEntered),\n      onEntering: createChainedFunction(this.handleShowing, this.props.onEntering),\n      onExited: createChainedFunction(this.handleHide, this.props.onExited),\n      backdropClassName: classNames(this.addPrefix('backdrop'), backdropClassName, inClass),\n      containerClassName: classNames(this.addPrefix('open'), (_classNames2 = {}, _classNames2[this.addPrefix('has-backdrop')] = rest.backdrop, _classNames2)),\n      transition: animation ? animation : undefined,\n      animationProps: animationProps,\n      dialogTransitionTimeout: animationTimeout,\n      backdropTransitionTimeout: BACKDROP_TRANSITION_DURATION\n    }), function (transitionProps, ref) {\n      var transitionClassName = transitionProps.className,\n          transitionRest = _objectWithoutPropertiesLoose(transitionProps, [\"className\"]);\n\n      return React.createElement(Dialog, _extends({}, transitionRest, _pick(rest, Object.keys(modalDialogPropTypes)), {\n        classPrefix: classPrefix,\n        className: classNames(classes, transitionClassName),\n        dialogClassName: dialogClassName,\n        dialogStyle: dialogStyle,\n        onClick: rest.backdrop === true ? _this2.handleDialogClick : null,\n        dialogRef: mergeRefs(_this2.bindDialogRef, ref)\n      }), children);\n    }));\n  };\n\n  return Modal;\n}(React.Component);\n\nModal.propTypes = {\n  classPrefix: PropTypes.string,\n  size: PropTypes.oneOf(SIZE),\n  container: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  onRendered: PropTypes.func,\n  className: PropTypes.string,\n  children: PropTypes.node,\n  dialogClassName: PropTypes.string,\n  backdropClassName: PropTypes.string,\n  style: PropTypes.object,\n  dialogStyle: PropTypes.object,\n  backdropStyle: PropTypes.object,\n  show: PropTypes.bool,\n  full: PropTypes.bool,\n  backdrop: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  keyboard: PropTypes.bool,\n  transition: PropTypes.elementType,\n  dialogTransitionTimeout: PropTypes.number,\n  backdropTransitionTimeout: PropTypes.number,\n  autoFocus: PropTypes.bool,\n  enforceFocus: PropTypes.bool,\n  overflow: PropTypes.bool,\n  drawer: PropTypes.bool,\n  dialogComponentClass: PropTypes.elementType,\n  animation: PropTypes.any,\n  animationProps: PropTypes.object,\n  animationTimeout: PropTypes.number,\n  onEscapeKeyUp: PropTypes.func,\n  onBackdropClick: PropTypes.func,\n  onShow: PropTypes.func,\n  onHide: PropTypes.func,\n  onEnter: PropTypes.func,\n  onEntering: PropTypes.func,\n  onEntered: PropTypes.func,\n  onExit: PropTypes.func,\n  onExiting: PropTypes.func,\n  onExited: PropTypes.func\n};\nModal.defaultProps = {\n  size: 'sm',\n  backdrop: true,\n  keyboard: true,\n  autoFocus: true,\n  enforceFocus: true,\n  animation: Bounce,\n  animationTimeout: 300,\n  dialogComponentClass: ModalDialog,\n  overflow: true\n};\nvar EnhancedModal = defaultProps({\n  classPrefix: 'modal'\n})(Modal);\nsetStatic('Body', ModalBody)(EnhancedModal);\nsetStatic('Header', ModalHeader)(EnhancedModal);\nsetStatic('Title', ModalTitle)(EnhancedModal);\nsetStatic('Footer', ModalFooter)(EnhancedModal);\nsetStatic('Dialog', ModalDialog)(EnhancedModal);\nexport default EnhancedModal;"]},"metadata":{},"sourceType":"module"}