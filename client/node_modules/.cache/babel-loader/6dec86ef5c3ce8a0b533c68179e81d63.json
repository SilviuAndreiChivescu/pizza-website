{"ast":null,"code":"var _jsxFileName = \"E:\\\\OneDrive - University of Salford\\\\Desktop\\\\pizza-website\\\\client\\\\src\\\\components\\\\CartOpen.js\";\nimport iconEmptyBasket from \"../images/iconEmptyBasket.svg\";\nimport { useState } from 'react';\nimport Axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CartOpen(props) {\n  var _s = $RefreshSig$();\n\n  const today = new Date();\n  const time = today.getHours() + ':' + today.getMinutes();\n\n  const DeliveryHours = () => {\n    if (time > '22:29' && time < '8:59') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-5 text-secondary\",\n        children: /*#__PURE__*/_jsxDEV(\"h5\", {\n          children: \"Momentan nu putem prelua comenzi. Va rugam reveniti zilnic in intervalul 09:00 - 22:30. Va multumim !\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 11\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: props.setPopUpCheckout,\n          className: \"black-bg text-white border border-2 border-dark rounded p-2\",\n          children: \"Comanda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 11\n      }, this);\n    }\n  }; // state to make functionality of buttons to increment or decrease the numberOfProduct\n  // const [clicks, setClicks] = useState(1);\n  // AICI AM RAMAS ICNERCARND SA FAC LA CART GEN SA SE UPDATEZE SI FRONT-ENDUL DUPA CE DAU UPDATE LA MONGODB\n\n\n  function IncrementItem(numberOfProduct, id) {\n    Axios.put('http://localhost:3001/updateCart', {\n      id: id,\n      newNumberOfProduct: numberOfProduct + 1\n    });\n  }\n\n  async function DecreaseItem(numberOfProduct, id) {\n    // Delete item if numberOfProduct is 0\n    if (numberOfProduct === 0) {\n      await Axios.delete(`http://localhost:3001/deleteFromCart/${id}`);\n      return;\n    } else if (numberOfProduct > 0) await Axios.put('http://localhost:3001/updateCart', {\n      id: id,\n      newNumberOfProduct: numberOfProduct - 1\n    });\n  }\n\n  const CartOpenLogic = props => {\n    _s();\n\n    const [numberOfProduct, setNumberOfProduct] = useState(props.val.numberOfProduct); // If numberOfProduct is 0, delete the product from list and from db\n\n    if (numberOfProduct === 0) {\n      DecreaseItem(numberOfProduct, props.val._id);\n      return null;\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row container-fluid \",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col d-inline-flex ps-0 justify-content-center pt-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [numberOfProduct, \" X \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ps-2 pe-2\",\n          children: props.val.Name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setNumberOfProduct(currNumber => currNumber - 1);\n              DecreaseItem(numberOfProduct, props.val._id);\n            },\n            className: \"border-1 border-dark bg-light rounded-start\",\n            style: {\n              width: \"30px\"\n            },\n            children: \"-\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setNumberOfProduct(currNumber => currNumber + 1);\n              IncrementItem(numberOfProduct, props.val._id);\n            },\n            className: \"border-1 border-dark bg-light rounded-end\",\n            style: {\n              width: \"30px\"\n            },\n            children: \"+\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 16\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"ps-2 pe-2\",\n          children: props.val.Price\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)\n    }, props.key, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  };\n\n  _s(CartOpenLogic, \"U+VKAUOir8RdsOsiV1rmIUwoPHY=\");\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"container-fluid position-absolute h-100 w-100 overflow-hidden bg-white text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-secondary border-bottom border-2 border-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          className: \"img-fluid mt-5\",\n          src: iconEmptyBasket,\n          style: {\n            width: \"70px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"mb-5\",\n          children: \"Adauga mancare gustoasa din meniu si apoi plaseaza comanda\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), props.cartList.map((val, key) => {\n        return /*#__PURE__*/_jsxDEV(CartOpenLogic, {\n          val: val\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-5 border-bottom border-2 border-secondary\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2\",\n          children: \"Sub-total: 10lei\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"fw-bold\",\n          children: \"Total: 20lei\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(DeliveryHours, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_c = CartOpen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartOpen\");","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/client/src/components/CartOpen.js"],"names":["useState","Axios","CartOpen","props","today","Date","time","getHours","getMinutes","DeliveryHours","setPopUpCheckout","IncrementItem","numberOfProduct","id","put","newNumberOfProduct","DecreaseItem","delete","CartOpenLogic","setNumberOfProduct","val","_id","Name","currNumber","width","Price","key","iconEmptyBasket","cartList","map"],"mappings":"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","sourcesContent":["import iconEmptyBasket from '../images/iconEmptyBasket.svg';\r\nimport {useState} from 'react';\r\nimport Axios from 'axios';\r\n\r\nexport default function CartOpen(props) {\r\n    const today = new Date();\r\n    const time = today.getHours() + ':' + today.getMinutes();\r\n  \r\n    const DeliveryHours = () => {\r\n      if (time > '22:29' && time < '8:59') {\r\n        return(\r\n          <div className=\"mb-5 text-secondary\">\r\n            <h5>Momentan nu putem prelua comenzi. Va rugam reveniti zilnic in intervalul 09:00 - 22:30. Va multumim !</h5>\r\n          </div>\r\n        );\r\n      }\r\n      else {\r\n        return(\r\n          <div className=\"container\">\r\n            <button onClick={props.setPopUpCheckout} className=\"black-bg text-white border border-2 border-dark rounded p-2\">Comanda</button>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n\r\n    // state to make functionality of buttons to increment or decrease the numberOfProduct\r\n    // const [clicks, setClicks] = useState(1);\r\n    // AICI AM RAMAS ICNERCARND SA FAC LA CART GEN SA SE UPDATEZE SI FRONT-ENDUL DUPA CE DAU UPDATE LA MONGODB\r\n    function IncrementItem(numberOfProduct, id) {\r\n      Axios.put('http://localhost:3001/updateCart', {id: id, newNumberOfProduct: numberOfProduct + 1});\r\n    }\r\n    async function DecreaseItem(numberOfProduct, id) {\r\n      // Delete item if numberOfProduct is 0\r\n      if (numberOfProduct === 0) {\r\n        await Axios.delete(`http://localhost:3001/deleteFromCart/${id}`);\r\n        return;\r\n      } else if (numberOfProduct > 0) await Axios.put('http://localhost:3001/updateCart', {id: id, newNumberOfProduct: numberOfProduct - 1});\r\n    }\r\n\r\n  const CartOpenLogic = (props) => {\r\n    const [numberOfProduct, setNumberOfProduct] = useState(props.val.numberOfProduct);\r\n    // If numberOfProduct is 0, delete the product from list and from db\r\n    if (numberOfProduct === 0) {\r\n      DecreaseItem(numberOfProduct, props.val._id);\r\n      return null;\r\n    }\r\n    return(\r\n      <div key={props.key} className=\"row container-fluid \">\r\n        <div className=\"col d-inline-flex ps-0 justify-content-center pt-3\">\r\n          <p>{numberOfProduct} X </p>\r\n          <p className=\"ps-2 pe-2\">{props.val.Name}</p>\r\n          <div className=\"\"><button onClick={() => {setNumberOfProduct(currNumber => currNumber - 1); DecreaseItem(numberOfProduct, props.val._id)}} className=\"border-1 border-dark bg-light rounded-start\" style={{width: \"30px\"}}>-</button></div>\r\n          <div><button onClick={() => {setNumberOfProduct(currNumber => currNumber + 1); IncrementItem(numberOfProduct, props.val._id)}} className=\"border-1 border-dark bg-light rounded-end\" style={{width: \"30px\"}}>+</button></div>\r\n          <p className=\"ps-2 pe-2\">{props.val.Price}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n    return(\r\n      <>\r\n      <section className=\"container-fluid position-absolute h-100 w-100 overflow-hidden bg-white text-center\">\r\n        {/* The below div is only when cart is empty, when not empty, show what I will code with buttons and meal */}\r\n        <div className=\"text-secondary border-bottom border-2 border-secondary\">\r\n          <img className=\"img-fluid mt-5\" src={iconEmptyBasket} style={{width: \"70px\"}} />\r\n          <h5 className=\"mb-5\">Adauga mancare gustoasa din meniu si apoi plaseaza comanda</h5>\r\n        </div>\r\n\r\n        {/* Aici vine productsList NOTE!!!\r\n         change key to id see if it is ok\r\n        */}\r\n        {props.cartList.map((val, key) => {\r\n          return (\r\n            <CartOpenLogic val={val} key={key} />\r\n          );\r\n        })}\r\n  \r\n        <div className=\"mb-5 border-bottom border-2 border-secondary\">\r\n          <p className=\"mt-2\">Sub-total: 10lei</p>\r\n          <p className=\"fw-bold\">Total: 20lei</p>\r\n        </div>\r\n        <DeliveryHours />\r\n      </section>\r\n      </>\r\n    )\r\n  }"]},"metadata":{},"sourceType":"module"}