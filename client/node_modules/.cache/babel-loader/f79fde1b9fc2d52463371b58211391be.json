{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n/* eslint-disable no-console */\n\n/* istanbul ignore next */\n\nfunction resetState() {\n  focusLaterElements = [];\n}\n/* istanbul ignore next */\n\n\nfunction log() {\n  if (process.env.NODE_ENV === \"production\") return;\n  console.log(\"focusManager ----------\");\n  focusLaterElements.forEach(function (f) {\n    var check = f || {};\n    console.log(check.nodeName, check.className, check.id);\n  });\n  console.log(\"end focusManager ----------\");\n}\n/* eslint-enable no-console */\n\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n\n    if (!modalElement) {\n      return;\n    } // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n\n\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n/* eslint-disable no-console */\n\n\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var toFocus = null;\n\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({\n        preventScroll: preventScroll\n      });\n    }\n\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}","map":{"version":3,"sources":["E:/OneDrive - University of Salford/Desktop/pizza-website/node_modules/react-modal/lib/helpers/focusManager.js"],"names":["Object","defineProperty","exports","value","resetState","log","handleBlur","handleFocus","markForFocusLater","returnFocus","popWithoutFocus","setupScopedFocus","teardownScopedFocus","_tabbable","require","_tabbable2","_interopRequireDefault","obj","__esModule","default","focusLaterElements","modalElement","needToFocus","process","env","NODE_ENV","console","forEach","f","check","nodeName","className","id","setTimeout","contains","document","activeElement","el","focus","push","preventScroll","arguments","length","undefined","toFocus","pop","e","warn","join","element","window","addEventListener","attachEvent","removeEventListener","detachEvent"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resetState = resetState;\nexports.log = log;\nexports.handleBlur = handleBlur;\nexports.handleFocus = handleFocus;\nexports.markForFocusLater = markForFocusLater;\nexports.returnFocus = returnFocus;\nexports.popWithoutFocus = popWithoutFocus;\nexports.setupScopedFocus = setupScopedFocus;\nexports.teardownScopedFocus = teardownScopedFocus;\n\nvar _tabbable = require(\"../helpers/tabbable\");\n\nvar _tabbable2 = _interopRequireDefault(_tabbable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar focusLaterElements = [];\nvar modalElement = null;\nvar needToFocus = false;\n\n/* eslint-disable no-console */\n/* istanbul ignore next */\nfunction resetState() {\n  focusLaterElements = [];\n}\n\n/* istanbul ignore next */\nfunction log() {\n  if (process.env.NODE_ENV === \"production\") return;\n  console.log(\"focusManager ----------\");\n  focusLaterElements.forEach(function (f) {\n    var check = f || {};\n    console.log(check.nodeName, check.className, check.id);\n  });\n  console.log(\"end focusManager ----------\");\n}\n/* eslint-enable no-console */\n\nfunction handleBlur() {\n  needToFocus = true;\n}\n\nfunction handleFocus() {\n  if (needToFocus) {\n    needToFocus = false;\n    if (!modalElement) {\n      return;\n    }\n    // need to see how jQuery shims document.on('focusin') so we don't need the\n    // setTimeout, firefox doesn't support focusin, if it did, we could focus\n    // the element outside of a setTimeout. Side-effect of this implementation\n    // is that the document.body gets focus, and then we focus our element right\n    // after, seems fine.\n    setTimeout(function () {\n      if (modalElement.contains(document.activeElement)) {\n        return;\n      }\n      var el = (0, _tabbable2.default)(modalElement)[0] || modalElement;\n      el.focus();\n    }, 0);\n  }\n}\n\nfunction markForFocusLater() {\n  focusLaterElements.push(document.activeElement);\n}\n\n/* eslint-disable no-console */\nfunction returnFocus() {\n  var preventScroll = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var toFocus = null;\n  try {\n    if (focusLaterElements.length !== 0) {\n      toFocus = focusLaterElements.pop();\n      toFocus.focus({ preventScroll: preventScroll });\n    }\n    return;\n  } catch (e) {\n    console.warn([\"You tried to return focus to\", toFocus, \"but it is not in the DOM anymore\"].join(\" \"));\n  }\n}\n/* eslint-enable no-console */\n\nfunction popWithoutFocus() {\n  focusLaterElements.length > 0 && focusLaterElements.pop();\n}\n\nfunction setupScopedFocus(element) {\n  modalElement = element;\n\n  if (window.addEventListener) {\n    window.addEventListener(\"blur\", handleBlur, false);\n    document.addEventListener(\"focus\", handleFocus, true);\n  } else {\n    window.attachEvent(\"onBlur\", handleBlur);\n    document.attachEvent(\"onFocus\", handleFocus);\n  }\n}\n\nfunction teardownScopedFocus() {\n  modalElement = null;\n\n  if (window.addEventListener) {\n    window.removeEventListener(\"blur\", handleBlur);\n    document.removeEventListener(\"focus\", handleFocus);\n  } else {\n    window.detachEvent(\"onBlur\", handleBlur);\n    document.detachEvent(\"onFocus\", handleFocus);\n  }\n}"]},"metadata":{},"sourceType":"script"}