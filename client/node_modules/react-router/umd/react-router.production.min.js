"use strict";!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("history")):"function"==typeof define&&define.amd?define(["exports","react","history"],t):t((e=e||self).ReactRouter={},e.React,e.HistoryLibrary)}(this,(function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n,r=arguments[t];for(n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function a(e,t){if(!e)throw Error(t)}function u(){return s()}function i(e){var r=e.children;r=void 0===r?null:r;var u=e.action;u=void 0===u?n.Action.Pop:u;var i=e.location,c=e.navigator;return e=void 0!==(e=e.static)&&e,o()&&a(!1),t.createElement(x.Provider,{children:r,value:{action:u,location:i,navigator:c,static:e}})}function o(){return null!=t.useContext(x).location}function c(){return o()||a(!1),t.useContext(x).location}function l(){o()||a(!1);var e=t.useContext(x).navigator,n=t.useContext(R).pathname,r=t.useRef(!1);return t.useEffect((function(){r.current=!0})),t.useCallback((function(t,a){void 0===a&&(a={}),r.current&&("number"==typeof t?e.go(t):(t=g(t,n),(a.replace?e.replace:e.push)(t,a.state)))}),[e,n])}function s(){return t.useContext(R).outlet}function f(e){var n=t.useContext(R).pathname;return t.useMemo((function(){return g(e,n)}),[e,n])}function p(e,n){void 0===n&&(n="");var a=t.useContext(R),u=a.pathname,i=a.params;n=n?M([u,n]):u;var o=c();return(a=t.useMemo((function(){return d(e,o,n)}),[o,e,n]))?a.reduceRight((function(e,a){var u=a.pathname,o=a.route;return t.createElement(R.Provider,{children:o.element,value:{outlet:e,params:r({},i,{},a.params),pathname:M([n,u]),route:o}})}),null):null}function h(e){return e.map((function(e){var n={path:e.path||"/",caseSensitive:!0===e.caseSensitive,element:e.element||t.createElement(u,null)};return e.children&&(n.children=h(e.children)),n}))}function v(e){var n=[];return t.Children.forEach(e,(function(e){if(t.isValidElement(e))if(e.type===t.Fragment)n.push.apply(n,v(e.props.children));else{var r={path:e.props.path||"/",caseSensitive:!0===e.props.caseSensitive,element:e};e.props.children&&((e=v(e.props.children)).length&&(r.children=e)),n.push(r)}})),n}function d(e,t,a){if(void 0===a&&(a=""),"string"==typeof t&&(t=n.parsePath(t)),t=t.pathname||"/",a){if(a=a.replace(/^\/*/,"/").replace(/\/+$/,""),!t.startsWith(a))return null;t=t===a?"/":t.slice(a.length)}!function(e){var t=e.reduce((function(e,t){return e[t=t[0]]=function(e){var t=(e=e.split("/")).length;return e.some($)&&(t+=O),e.filter((function(e){return!$(e)})).reduce((function(e,t){return e+(C.test(t)?E:""===t?P:b)}),t)}(t),e}),{});!function(e,t){var n=e.slice(0);e.sort((function(e,r){return t(e,r)||n.indexOf(e)-n.indexOf(r)}))}(e,(function(e,n){var r=e[2];e=t[e[0]];var a=n[2];return e!==(n=t[n[0]])?n-e:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(r,a)}))}(e=function e(t,n,r,a,u){return void 0===n&&(n=[]),void 0===r&&(r=""),void 0===a&&(a=[]),void 0===u&&(u=[]),t.forEach((function(t,i){var o=M([r,t.path]),c=a.concat(t);i=u.concat(i),t.children&&e(t.children,n,o,c,i),n.push([o,c,i])})),n}(e));var u=null;for(a=0;null==u&&a<e.length;++a)e:{u=t;for(var i=e[a][1],o="/",c={},l=[],s=0;s<i.length;++s){var f=i[s],p="/"===o?u:u.slice(o.length)||"/";if(!(p=m({path:f.path,caseSensitive:f.caseSensitive,end:s===i.length-1},p))){u=null;break e}o=M([o,p.pathname]),c=r({},c,{},p.params),l.push({route:f,pathname:o,params:c})}u=l}return u}function m(e,t){"string"==typeof e&&(e={path:e});var n=e;e=n.path;var r=n.caseSensitive;if(n=function(e,t,n){var r=[],a="^("+e.replace(/^\/*/,"/").replace(/\/?\*?$/,"").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}))+")";return e.endsWith("*")?(e.endsWith("/*")&&(a+="\\/?"),r.push("*"),a+="(.*)"):n&&(a+="\\/?"),n&&(a+="$"),[new RegExp(a,t?void 0:"i"),r]}(e,void 0!==r&&r,void 0===(n=n.end)||n),r=n[1],!(n=t.match(n[0])))return null;t=n[1];var a=n.slice(2);return r=r.reduce((function(e,t,n){n=a[n];try{var r=decodeURIComponent(n.replace(/\+/g," "))}catch(e){r=n}return e[t]=r,e}),{}),{path:e,pathname:t,params:r}}function g(e,t){void 0===t&&(t="/");var r="string"==typeof e?n.parsePath(e):e;e=r.pathname;var a=r.search;return a=void 0===a?"":a,r=void 0===(r=r.hash)?"":r,{pathname:e?y(e,e.startsWith("/")?"/":t):t,search:a,hash:r}}function y(e,t){var n=t.replace(/\/+$/,"").replace(/\/\/+/g,"/").split("/");return e.replace(/\/\/+/g,"/").split("/").forEach((function(e){".."===e?1<n.length&&n.pop():"."!==e&&n.push(e)})),1<n.length?M(n):"/"}var x=t.createContext({static:!1}),R=t.createContext({outlet:null,params:{},pathname:"",route:null}),C=/^:\w+$/,E=2,P=1,b=10,O=-2,$=function(e){return"*"===e},M=function(e){return e.join("/").replace(/\/\/+/g,"/")};e.MemoryRouter=function(e){var r=e.children,a=e.initialEntries;e=e.initialIndex;var u=t.useRef();null==u.current&&(u.current=n.createMemoryHistory({initialEntries:a,initialIndex:e}));var o=u.current;e=(a=t.useReducer((function(e,t){return t}),{action:o.action,location:o.location}))[0];var c=a[1];return t.useLayoutEffect((function(){return o.listen(c)}),[o]),t.createElement(i,{children:r,action:e.action,location:e.location,navigator:o})},e.Navigate=function(e){var n=e.to,r=e.replace,u=e.state;o()||a(!1);var i=l();return t.useEffect((function(){i(n,{replace:r,state:u})})),null},e.Outlet=u,e.Route=function(e){return void 0===(e=e.element)?t.createElement(u,null):e},e.Router=i,e.Routes=function(e){var t=e.basename;return t=void 0===t?"":t,p(e=v(e.children),t)},e.createRoutesFromArray=h,e.createRoutesFromChildren=v,e.generatePath=function(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(function(e,n){return null==t[n]&&a(!1),t[n]})).replace(/\/*\*$/,(function(e){return null==t["*"]?"":t["*"].replace(/^\/*/,"/")}))},e.matchPath=m,e.matchRoutes=d,e.resolvePath=g,e.useBlocker=function(e,n){void 0===n&&(n=!0),o()||a(!1);var u=t.useContext(x).navigator;t.useEffect((function(){if(n){var t=u.block((function(n){var a=r({},n,{retry:function(){t(),n.retry()}});e(a)}));return t}}),[u,e,n])},e.useHref=function(e){o()||a(!1);var n=t.useContext(x).navigator;return e=f(e),n.createHref(e)},e.useInRouterContext=o,e.useLocation=c,e.useMatch=function(e){return o()||a(!1),m(e,c().pathname)},e.useNavigate=l,e.useOutlet=s,e.useParams=function(){return t.useContext(R).params},e.useResolvedPath=f,e.useRoutes=function(e,n){return void 0===n&&(n=""),o()||a(!1),p(t.useMemo((function(){return h(e)}),[e]),n)},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=react-router.production.min.js.map
